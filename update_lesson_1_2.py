#!/usr/bin/env python3
# -*- coding: utf-8 -*-

import re

# ุงูุฃูุฏุงู ุงูุฌุฏูุฏุฉ ููุฏุฑุณ 1-2
new_objectives = """        <li>ุงุณุชุฎุฏุงู ููุงุฑุงุช ุงูููุงุญุธุฉ ุงูุฏูููุฉ ููุฎูุงูุง ุชุญุช ุงููุฌูุฑ.</li>
        <li>ุฑุณู ุฎููุฉ ูุจุงุชูุฉ ุฃู ุญููุงููุฉ ุจุตูุฑุฉ ุนูููุฉ ุตุญูุญุฉ ูุน ุชุณููุฉ ุฃุฌุฒุงุฆูุง.</li>
        <li>ุงูุงูุชุฒุงู ุจููุงุนุฏ ุงูุฑุณู ุงูุนููู (ุงูุฎุทูุท ุงููุงุถุญุฉุ ุนุฏู ุงูุชุธูููุ ูุชุงุจุฉ ุงูุฃุณูุงุก ุจุฎุท ุฃููู).</li>
        <li>ุญุณุงุจ ููุฏุงุฑ ุงูุชูุจูุฑ ุจุงุณุชุฎุฏุงู ุงููุงููู: ููุฏุงุฑ ุงูุชูุจูุฑ = ููุงุณ ุงูุฑุณู รท ุงูุทูู ุงูุญูููู</li>
        <li>ุงูุชูููุฒ ุจูู ุงูุทูู ุงูุญูููู ูุงูููุงุณ ุนูู ุงูุฑุณู.</li>
        <li>ุงุณุชุฎุฏุงู ูุญุฏุงุช ุงูููุงุณ ุงูุตุญูุญุฉ (ุงููููุฑููุชุฑ โ ุงูููููุชุฑ).</li>"""

# ุจูู ุงูุฃุณุฆูุฉ ุงูุฌุฏูุฏ ููุฏุฑุณ 1-2 - 20 ุณุคุงู ููุธู ูู 4 ูุฌููุนุงุช
new_questions = [
    # ุงููุฌููุนุฉ ุงูุฃููู: ุงูุฑุณู ุงูุนููู (5 ุฃุณุฆูุฉ)
    {"q": "ุนูุฏ ุฑุณู ุงูุฎูุงูุง ุจุงููุฌูุฑ ูุฌุจ ุงุณุชุฎุฏุงู:", "c": ["ููู ุญุจุฑ", "ููู ุฑุตุงุต ุญุงุฏ", "ุฃููุงู ุฎุดุจูุฉ", "ุฃููุงู ุชุธููู"], "a": 1},
    {"q": "ุฃู ููุง ููู ูุนุชุจุฑ ุฎุทุฃ ูู ุงูุฑุณู ุงูุนููู ููุฎูุงูุงุ", "c": ["ูุชุงุจุฉ ุฃุณูุงุก ุงูุฃุฌุฒุงุก ุจุฎุท ุฃููู", "ุงุณุชุฎุฏุงู ุฎุทูุท ูุณุชูููุฉ ููุชุณููุงุช", "ุชูุจูุฑ ุงูุฑุณู ูุฏุฑ ุงูุฅููุงู", "ุงูุชุธููู ุฃู ุงูุชูููู"], "a": 3},
    {"q": "ูู ููุงุนุฏ ุงูุฑุณู ุงูุนููู ููุฎูุงูุง:", "c": ["ุฌุนู ุงูุฑุณู ุตุบูุฑูุง ุฌุฏูุง", "ุงุณุชุฎุฏุงู ุนุฏุฉ ูุญุงููุงุช ููู ุจุนุถูุง", "ุฃู ูููู ุงูุฑุณู ูุจูุฑูุง ููุงุถุญูุง", "ูุชุงุจุฉ ุงูุฃุณูุงุก ุฏุงุฎู ุงูุฑุณู"], "a": 2},
    {"q": "ุนูุฏ ุชุณููุฉ ุฃุฌุฒุงุก ุงูุฎููุฉ ูู ุงูุฑุณู ูุฌุจ ุฃู ุชููู ุงูุฎุทูุท:", "c": ["ููุญููุฉ", "ุนุดูุงุฆูุฉ", "ูุณุชูููุฉ ููุงุถุญุฉ", "ููููุฉ"], "a": 2},
    {"q": "ูุนูุงุฑ ุงูุชูููู ุงูุฐุงุชู ููุฑุณู ูุชุถูู:", "c": ["ูุถูุญ ุงูุฃุฌุฒุงุก ุงูุตุญูุญุฉ", "ุณุฑุนุฉ ุงูุฑุณู", "ุฌูุงู ุงูุดูู ุงูููู", "ุงูุชูููู ุงูุฌุฐุงุจ"], "a": 0},
    
    # ุงููุฌููุนุฉ ุงูุซุงููุฉ: ุงูุชูุจูุฑ (5 ุฃุณุฆูุฉ)
    {"q": "ููุฏุงุฑ ุงูุชูุจูุฑ ูุญุณุจ ูู ุฎูุงู:", "c": ["ููุงุณ ุงูุทูู ุงูุญูููู รท ููุงุณ ุงูุฑุณู", "ููุงุณ ุงูุฑุณู รท ุงูุทูู ุงูุญูููู", "ุงูุทูู ุงูุญูููู ร ููุงุณ ุงูุฑุณู", "ุงูุทูู ุงูุญูููู + ููุงุณ ุงูุฑุณู"], "a": 1},
    {"q": "ุฅุฐุง ูุงู ุทูู ุฎููุฉ ูู ุงูุฑุณู = 12 ููุ ูุงูุทูู ุงูุญูููู = 0.012 ููุ ูุฅู ุงูุชูุจูุฑ = ุ", "c": ["10 ร", "100 ร", "1000 ร", "120 ร"], "a": 2},
    {"q": "ูุญุฏุฉ ููุงุณ ุงูุทูู ุงูุญูููู ููุฎูุงูุง ุนุงุฏุฉ ุชููู:", "c": ["ุงูููููุชุฑ ููุท", "ุงููููุฑููุชุฑ", "ุงูุณูุชููุชุฑ", "ุงููููููุชุฑ"], "a": 1},
    {"q": "ุฅุฐุง ูุงู ุงูุนุฑุถ ุงูุญูููู ููุฎููุฉ = 0.05 ููุ ูููุงุณูุง ูู ุงูุฑุณู = 25 ููุ ููุง ููุฏุงุฑ ุงูุชูุจูุฑุ", "c": ["250 ร", "500 ร", "50 ร", "5 ร"], "a": 1},
    {"q": "ุนูุฏ ุญุณุงุจ ุงูุชูุจูุฑุ ุฅุฐุง ูุงู ุงููุงุชุฌ 200 รุ ููุฐุง ูุนูู ุฃู:", "c": ["ุญุฌู ุงูุฎููุฉ ุงูุญูููู = 200 ูุฑุฉ ุฃูุจุฑ ูู ุงูุฑุณู", "ุญุฌู ุงูุฎููุฉ ูู ุงูุฑุณู = 200 ูุฑุฉ ุฃูุจุฑ ูู ุงูุญูููู", "ุงูุทูู ุงูุญูููู ูุณุงูู 200 ูู", "ูุง ุนูุงูุฉ ุจูู ุงูุทูู ูุงูุชูุจูุฑ"], "a": 1},
    
    # ุงููุฌููุนุฉ ุงูุซุงูุซุฉ: ุชุทุจููุงุช (5 ุฃุณุฆูุฉ)
    {"q": "ุตูุฑุฉ ุฎููุฉ ูุจุงุชูุฉ ุทูููุง ุงูุญูููู 0.1 ููุ ูุฑูุณูุช ุจุทูู 30 ููุ ุงูุชูุจูุฑ = ุ", "c": ["100 ร", "200 ร", "300 ร", "30 ร"], "a": 2},
    {"q": "ุฅุฐุง ูุงู ุทูู ุฎููุฉ ุนูู ุงูุฑุณู = 80 ููุ ูุงูุชูุจูุฑ = 400 รุ ููุง ุงูุทูู ุงูุญููููุ", "c": ["0.2 ูู", "0.5 ูู", "2 ูู", "20 ูู"], "a": 0},
    {"q": "ุฃู ูู ุงูุฃุฌูุฒุฉ ุงูุชุงููุฉ ูุณุชุฎุฏู ูููุงุณ ุฃุจุนุงุฏ ุงูุฃุฌุณุงู ุงูุฏูููุฉุ", "c": ["ุงููููุฑููุชุฑ", "ุงููุชุฑ", "ุงูููุฒุงู", "ุงููุณุทุฑุฉ ุงููุฏุฑุฌุฉ"], "a": 0},
    {"q": "ุฎููุฉ ุทูููุง ุงูุญูููู 0.02 ููุ ุฅุฐุง ุฑุณููุง ุงูุทุงูุจ ุจุทูู 10 ููุ ูุฅู ุงูุชูุจูุฑ = ุ", "c": ["50 ร", "100 ร", "200 ร", "20 ร"], "a": 2},
    {"q": "ุนูุฏ ูุชุงุจุฉ ุฃุณูุงุก ุงูุฃุฌุฒุงุก ุนูู ุงูุฑุณู ูุฌุจ ุฃู ุชููู:", "c": ["ุฏุงุฎู ุงูุดูู", "ููู ุงูุฎุทูุท", "ุฃูููุฉ ููุฑุชุจุฉ ุจุนูุฏูุง ุนู ุงูุดูู", "ุนููุฏูุฉ ุนูู ุงูุดูู"], "a": 2},
    
    # ุงููุฌููุนุฉ ุงูุฑุงุจุนุฉ: ุชูููู (5 ุฃุณุฆูุฉ)
    {"q": "ูุนูุงุฑ ุงูุชูููู ุงูุฌูุฏ ููุฑุณู ุฃู ูุณุชุฎุฏู ุงูุทุงูุจ:", "c": ["ุงููุณุงุญุฉ ุงููุชุงุญุฉ ูุงููุฉ", "ุฌุฒุก ุตุบูุฑ ูู ุงููุฑูุฉ", "ุฃููุงู ูุชุนุฏุฏุฉ", "ุฎุท ุบูุฑ ูุงุถุญ"], "a": 0},
    {"q": "ุนูุฏ ุฑุณู ุฎููุฉ ุชุญุช ุงููุฌูุฑ ูุฌุจ ุฃู ูุธูุฑ:", "c": ["ุฌููุน ุงูุฃุฌุฒุงุก ุงููุฑุฆูุฉ ููุท", "ุงูุฃุฌุฒุงุก ุงููุชููุนุฉ ูู ุงูุทุงูุจ", "ุฌููุน ุงูุนุถูุงุช ุงูุฏูููุฉ ุญุชู ูู ูู ุชุธูุฑ", "ุฌุฒุก ูุงุญุฏ ููุท"], "a": 0},
    {"q": "ุฎููุฉ ูุฑุณููุฉ ุจุทูู 60 ููุ ุทูููุง ุงูุญูููู 0.06 ููุ ุงูุชูุจูุฑ = ุ", "c": ["600 ร", "1000 ร", "60 ร", "10 ร"], "a": 1},
    {"q": "ุฃู ููุง ููู ููุณ ูู ุฎุทูุงุช ุญุณุงุจ ุงูุชูุจูุฑุ", "c": ["ููุงุณ ุทูู ุงูุฑุณู", "ุชุญุฏูุฏ ุงูุทูู ุงูุญูููู", "ุถุฑุจ ุงููููุชูู ูุนูุง", "ูุณูุฉ ุงูุทูู ุนูู ุงูุขุฎุฑ"], "a": 2},
    {"q": "ุนูุฏ ุงุณุชุฎุฏุงู ุงููุฌูุฑุ ุงููุฏู ุงูุฑุฆูุณ ูู:", "c": ["ุชุฒููู ุงูุฑุณููุงุช", "ุชูุจูุฑ ุฑุคูุฉ ุงูุนูู", "ููุงุณ ุงูุฃูุฒุงู", "ุญุณุงุจ ุงููุชูุฉ"], "a": 1}
]

def update_lesson_1_2():
    # ูุฑุงุกุฉ ุงูููู ุงูุญุงูู
    with open(r'c:\Users\ahm7d\Desktop\W\unit-1-cells\lesson-1-2\index.html', 'r', encoding='utf-8') as f:
        content = f.read()
    
    # 1. ุชุญุฏูุซ ุงูุฃูุฏุงู
    objectives_pattern = r'(<ul>\s*)(.*?)(\s*</ul>)'
    objectives_match = re.search(objectives_pattern, content, re.DOTALL)
    if objectives_match:
        content = content.replace(objectives_match.group(0), f'<ul>\n{new_objectives}\n      </ul>')
        print("โ ุชู ุชุญุฏูุซ ุงูุฃูุฏุงู ุจูุฌุงุญ!")
    
    # 2. ุชุญุฏูุซ ุจูู ุงูุฃุณุฆูุฉ
    # ุงูุจุญุซ ุนู ุจุฏุงูุฉ ูุตูููุฉ bank
    bank_pattern = r'(const bank = \[)(.*?)(\];)'
    bank_match = re.search(bank_pattern, content, re.DOTALL)
    
    if bank_match:
        # ุชูููู ุงูุฃุณุฆูุฉ ุงูุฌุฏูุฏุฉ ููุต JavaScript
        questions_js = []
        for i, question in enumerate(new_questions):
            q_text = question['q'].replace('"', '\\"')
            choices = '","'.join([choice.replace('"', '\\"') for choice in question['c']])
            questions_js.append(f'      {{q:"{q_text}", c:["{choices}"], a:{question["a"]}}}')
        
        new_bank_content = ',\n'.join(questions_js)
        new_bank = f'{bank_match.group(1)}\n{new_bank_content}\n    {bank_match.group(3)}'
        
        content = content.replace(bank_match.group(0), new_bank)
        print("โ ุชู ุชุญุฏูุซ ุจูู ุงูุฃุณุฆูุฉ ุจูุฌุงุญ!")
    
    # ูุชุงุจุฉ ุงูููู ุงููุญุฏุซ
    with open(r'c:\Users\ahm7d\Desktop\W\unit-1-cells\lesson-1-2\index.html', 'w', encoding='utf-8') as f:
        f.write(content)
    
    print("๐ ุชู ุชุญุฏูุซ ุงูุฏุฑุณ 1-2 ุจูุฌุงุญ!")
    print("๐ ุงูุฅุญุตุงุฆูุงุช:")
    print(f"   โข ุชู ุชุญุฏูุซ {len(new_objectives.split('<li>'))-1} ุฃูุฏุงู ุชุนููููุฉ")
    print(f"   โข ุชู ุชุญุฏูุซ {len(new_questions)} ุณุคุงู ุชูุงุนูู")
    print("   โข ุงููุฌููุนุฉ ุงูุฃููู: ุงูุฑุณู ุงูุนููู (5 ุฃุณุฆูุฉ)")
    print("   โข ุงููุฌููุนุฉ ุงูุซุงููุฉ: ุงูุชูุจูุฑ (5 ุฃุณุฆูุฉ)")  
    print("   โข ุงููุฌููุนุฉ ุงูุซุงูุซุฉ: ุชุทุจููุงุช (5 ุฃุณุฆูุฉ)")
    print("   โข ุงููุฌููุนุฉ ุงูุฑุงุจุนุฉ: ุชูููู (5 ุฃุณุฆูุฉ)")

if __name__ == "__main__":
    update_lesson_1_2()