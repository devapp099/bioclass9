#!/usr/bin/env python3
# -*- coding: utf-8 -*-

import re
import os

def update_lesson_3_1():
    """ุชุญุฏูุซ ูุญุชูู ุงูุฏุฑุณ 3-1: ุงููุฑุจูููุฏุฑุงุช"""
    
    file_path = r"unit-3-biomolecules\lesson-3-1\index.html"
    
    if not os.path.exists(file_path):
        print(f"โ ุงูููู ุบูุฑ ููุฌูุฏ: {file_path}")
        return False
    
    try:
        # ูุฑุงุกุฉ ุงูููู
        with open(file_path, 'r', encoding='utf-8') as file:
            content = file.read()
        
        # ุชุญุฏูุซ ุนููุงู ุงูุฏุฑุณ ููุตูู
        content = re.sub(
            r'<h1>.*?</h1>\s*<p class="lead">.*?</p>',
            '<h1>ุงููุฑุจูููุฏุฑุงุช</h1>\n      <p class="lead">ุชุนุฑู ุนูู ุงููุฑุจูููุฏุฑุงุช ูุฃููุงุนูุง ููุธุงุฆููุง ููุตุฏุฑ ููุทุงูุฉ</p>',
            content,
            flags=re.DOTALL
        )
        
        # ุงูุฃูุฏุงู ุงูุฌุฏูุฏุฉ
        new_objectives = """        <li>ุชุนุฑูู ุงููุฑุจูููุฏุฑุงุช ูุฐูุฑ ุฃูููุชูุง ูููุงุฆูุงุช ุงูุญูุฉ ููุตุฏุฑ ุฑุฆูุณู ููุทุงูุฉ.</li>
        <li>ุงูุชูููุฒ ุจูู ุงูุณูุฑูุงุช ุงูุฃุญุงุฏูุฉ (ูุซู ุงูุฌููููุฒ) ูุงูุณูุฑูุงุช ุงูุซูุงุฆูุฉ (ูุซู ุงูุณูุฑูุฒ) ูุงูุณูุฑูุงุช ุงูุนุฏูุฏุฉ (ูุซู ุงููุดุง ูุงูุฌูุงูููุฌูู).</li>
        <li>ูุตู ุชุฑููุจ ุงููุฑุจูููุฏุฑุงุช (ูุฑุจูู โ ููุฏุฑูุฌูู โ ุฃูุณุฌูู ุจูุณุจุฉ 1:2:1 ุชูุฑูุจูุง).</li>
        <li>ุงูุชุนุฑู ุนูู ุฃูุซูุฉ ุฑุฆูุณูุฉ ูููุฑุจูููุฏุฑุงุช ูู ุงููุจุงุช ูุงูุญููุงู.</li>
        <li>ุฅุฌุฑุงุก ุงุฎุชุจุงุฑุงุช ุงููุดู ุนู ุงููุฑุจูููุฏุฑุงุช (ูุซู ุงุฎุชุจุงุฑ ุจูุฏูุช ููุณูุฑูุงุช ุงููุฎุชุฒูุฉ).</li>
        <li>ุชูุณูุฑ ุงูุนูุงูุฉ ุจูู ุจููุฉ ุงููุฑุจูููุฏุฑุงุช ููุธููุชูุง ูู ุงูุชุฎุฒูู ูุงูุทุงูุฉ.</li>"""
        
        # ุงุณุชุจุฏุงู ุงูุฃูุฏุงู
        content = re.sub(
            r'<ul>\s*<li>.*?</li>\s*</ul>',
            f'<ul>\n{new_objectives}\n      </ul>',
            content,
            flags=re.DOTALL
        )
        
        # ุงูุฃุณุฆูุฉ ุงูุฌุฏูุฏุฉ ููุณูุฉ ุฅูู 4 ูุฌููุนุงุช
        new_questions = """      {q:"ุงููุฑุจูููุฏุฑุงุช ุชุชููู ุฃุณุงุณูุง ูู ุงูุนูุงุตุฑ:", c:["C, H, O","C, H, N","C, N, S","C, H, P"], a:0},
      {q:"ุงูุตูุบุฉ ุงูุนุงูุฉ ูููุฑุจูููุฏุฑุงุช ุบุงูุจูุง:", c:["CnH2nOn","CnHnOn","CnH2n-1On","CnH2n+2On"], a:0},
      {q:"ุฃูู ูุธููุฉ ูููุฑุจูููุฏุฑุงุช ูู ุงููุงุฆูุงุช ุงูุญูุฉ ูู:", c:["ุจูุงุก ุงูุจุฑูุชููุงุช","ุชุฎุฒูู ุงูุทุงูุฉ ูุงุณุชุฎุฏุงููุง","ุฅูุชุงุฌ ุงูููุชุงูููุงุช","ุชูููู ุงูุฃุญูุงุถ ุงูููููุฉ"], a:1},
      {q:"ุฃู ููุง ููู ููุนุชุจุฑ ุณูุฑูุง ุฃุญุงุฏููุงุ", c:["ุงูุณูุฑูุฒ","ุงูุฌููููุฒ","ุงููุงูุชูุฒ","ุงููุดุง"], a:1},
      {q:"ุฃู ููุง ููู ููุนุฏ ูู ุงูุณูุฑูุงุช ุงูุซูุงุฆูุฉุ", c:["ุงููุฑูุชูุฒ","ุงููุงูุชูุฒ","ุงูุฌูุงูููุฌูู","ุงูุฌููููุฒ"], a:1},
      {q:"ุงููุดุง ููุฌุฏ ุฃุณุงุณูุง ูู:", c:["ุงูุญููุงูุงุช","ุงููุจุงุชุงุช","ุงูุจูุชูุฑูุง","ุงูุฏู"], a:1},
      {q:"ุงูุฌูุงูููุฌูู ููุฎุฒู ูู:", c:["ุฃูุฑุงู ุงููุจุงุช","ุนุถูุงุช ุงููุงุฆูุงุช ุงูุญูุฉ ูุงูุญููุงูุงุช","ุงูุฎุดุจ","ุงูุซูุงุฑ ููุท"], a:1},
      {q:"ุงูุณูุฑูุงุช ุงูุฃุญุงุฏูุฉ ูุซู ุงูุฌููููุฒ ูุงููุฑูุชูุฒ ุชุชููุฒ ุจุฃููุง:", c:["ุตูุจุฉ ุฏุงุฆููุง","ุณููุฉ ุงูุฐูุจุงู ูุณุฑูุนุฉ ุงูุงูุชุตุงุต","ุบูุฑ ูุงุจูุฉ ููุฐูุจุงู","ูุนูุฏุฉ ุฌุฏูุง"], a:1},
      {q:"ุฃู ูู ุงูุณูุฑูุงุช ุงูุชุงููุฉ ููุนุชุจุฑ ูู ุงูุณูุฑูุงุช ุงูุนุฏูุฏุฉ (Polysaccharides)ุ", c:["ุงูุณูุฑูุฒ","ุงููุดุง","ุงูุฌููููุฒ","ุงููุฑูุชูุฒ"], a:1},
      {q:"ุฃู ููุง ููู ููุนุฏ ูู ุงูุณูุฑูุงุช ุงููุฎุชุฒูุฉุ", c:["ุงูุณูุฑูุฒ","ุงููุงูุชูุฒ","ุงูุณููููุฒ","ุงูุฌูุงูููุฌูู"], a:1},
      {q:"ูุณุชุฎุฏู ุงุฎุชุจุงุฑ ุจูุฏูุช ูููุดู ุนู:", c:["ุงูุจุฑูุชููุงุช","ุงูุณูุฑูุงุช ุงููุฎุชุฒูุฉ","ุงูุฏููู","ุงูุฃุญูุงุถ ุงูููููุฉ"], a:1},
      {q:"ูู ุงุฎุชุจุงุฑ ุจูุฏูุชุ ูุชุญูู ุงูููู ุงูุฃุฒุฑู ุฅูู:", c:["ุฃุญูุฑ ุขุฌุฑู","ุฃุณูุฏ","ุจููุณุฌู","ุฃุตูุฑ"], a:0},
      {q:"ุงุฎุชุจุงุฑ ุงูููุฏ ููุณุชุฎุฏู ูููุดู ุนู:", c:["ุงูุณูุฑูุงุช ุงูุซูุงุฆูุฉ","ุงููุดุง","ุงูุฌููููุฒ","ุงูุฏููู"], a:1},
      {q:"ุนูุฏ ุฅุถุงูุฉ ุงูููุฏ ูููุดุง ูุชุญูู ุงูููู ุฅูู:", c:["ุฃุญูุฑ","ุฃุฒุฑู/ุฃุณูุฏ","ุฃุตูุฑ","ุจููุณุฌู"], a:1},
      {q:"ุฅุฐุง ูู ูุชุบูุฑ ููู ุงูููุฏ ุนูุฏ ุฅุถุงูุชู ูุนููุฉ ููุฐุง ูุนูู ุฃู ุงูุนููุฉ:", c:["ุชุญุชูู ุนูู ูุดุง","ูุง ุชุญุชูู ุนูู ูุดุง","ุชุญุชูู ุนูู ุจุฑูุชูู","ุชุญุชูู ุนูู ุฏููู"], a:1},
      {q:"ุฃู ููุง ููู ููุซู ูุธููุฉ ุงูุณููููุฒุ", c:["ุชุฎุฒูู ุงูุทุงูุฉ","ุจูุงุก ุฌุฏุฑุงู ุงูุฎูุงูุง ุงููุจุงุชูุฉ","ุชูููู ุงูุจุฑูุชููุงุช","ุฅูุชุงุฌ ุงูุฏููู"], a:1},
      {q:"ุฃู ููุง ููู ููุนุชุจุฑ ุณูุฑ ุงูููุงููุ", c:["ุงูุฌููููุฒ","ุงููุฑูุชูุฒ","ุงููุงูุชูุฒ","ุงููุงูุชูุฒ"], a:1},
      {q:"ุงูุณูุฑูุฒ ูุชููู ูู ุงุชุญุงุฏ:", c:["ุฌููููุฒ + ุฌููููุฒ","ุฌููููุฒ + ูุฑูุชูุฒ","ุฌููููุฒ + ุฌูุงูููุฌูู","ูุฑูุชูุฒ + ูุฑูุชูุฒ"], a:1},
      {q:"ุงููุฑุจูููุฏุฑุงุช ุชูุฎุฒู ูู ุฌุณู ุงูุฅูุณุงู ุนูู ุดูู:", c:["ุณููููุฒ","ูุดุง","ุฌูุงูููุฌูู","ูุงูุชูุฒ"], a:2},
      {q:"ุฃู ูู ุงููุฑุจูููุฏุฑุงุช ุงูุชุงููุฉ ูุง ูููู ููุฅูุณุงู ูุถููุงุ", c:["ุงููุดุง","ุงูุฌููููุฒ","ุงูุณููููุฒ","ุงูุฌูุงูููุฌูู"], a:2}"""
        
        # ุงุณุชุจุฏุงู ุจูู ุงูุฃุณุฆูุฉ
        content = re.sub(
            r'const bank = \[\s*\{q:.*?\}\s*\];',
            f'const bank = [\n{new_questions}\n    ];',
            content,
            flags=re.DOTALL
        )
        
        # ุญูุธ ุงูููู ุงููุญุฏุซ
        with open(file_path, 'w', encoding='utf-8') as file:
            file.write(content)
        
        print("๐ ุชู ุชุญุฏูุซ ุงูุฏุฑุณ 3-1 ุจูุฌุงุญ!")
        print("๐ ุฅุญุตุงุฆูุงุช ุงูุชุญุฏูุซ:")
        print("   โ ุงูุนููุงู: ุงููุฑุจูููุฏุฑุงุช")
        print("   โ ุงูุฃูุฏุงู: 6 ุฃูุฏุงู ุฌุฏูุฏุฉ")
        print("   โ ุงูุฃุณุฆูุฉ: 20 ุณุคุงู ููุธู ูู 4 ูุฌููุนุงุช:")
        print("      - ุงููุฌููุนุฉ ุงูุฃููู: ุงูุฃุณุงุณูุงุช (5 ุฃุณุฆูุฉ)")
        print("      - ุงููุฌููุนุฉ ุงูุซุงููุฉ: ุงูุฃููุงุน ูุงูุฃูุซูุฉ (5 ุฃุณุฆูุฉ)")
        print("      - ุงููุฌููุนุฉ ุงูุซุงูุซุฉ: ุงูุงุฎุชุจุงุฑุงุช ุงูุนูููุฉ (5 ุฃุณุฆูุฉ)")
        print("      - ุงููุฌููุนุฉ ุงูุฑุงุจุนุฉ: ุงููุธุงุฆู ูุงูุชูููู (5 ุฃุณุฆูุฉ)")
        
        return True
        
    except Exception as e:
        print(f"โ ุฎุทุฃ ูู ุชุญุฏูุซ ุงูููู: {e}")
        return False

if __name__ == "__main__":
    update_lesson_3_1()