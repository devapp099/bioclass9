#!/usr/bin/env python3
# -*- coding: utf-8 -*-

import re

def update_lesson_6_3():
    """
    ุชุญุฏูุซ ูููุฌู ููุฏุฑุณ 6-3: ุงูุนูู
    """
    try:
        file_path = "unit-6-homeostasis/lesson-6-3/index.html"
        
        # ูุฑุงุกุฉ ุงููุญุชูู ุงูุญุงูู
        with open(file_path, 'r', encoding='utf-8') as file:
            content = file.read()
        
        # ุชุญุฏูุซ ุนููุงู ุงูุฏุฑุณ ููุตูู
        content = re.sub(
            r'<h1>.*?</h1>\s*<p class="lead">.*?</p>',
            '<h1>๐๏ธ ุงูุนูู</h1>\n      <p class="lead">ุชุฑููุจ ุงูุนูู ููุธุงุฆููุงุ ุขููุฉ ุงูุฑุคูุฉุ ุนููุจ ุงูุฅุจุตุงุฑ ูุทุฑู ุชุตุญูุญูุง</p>',
            content,
            flags=re.DOTALL
        )
        
        # ุงูุฃูุฏุงู ุงูุฌุฏูุฏุฉ
        new_objectives = """        <li>ูุตู <strong>ุงูุชุฑููุจ ุงูุฃุณุงุณู ููุนูู</strong> (ุงููุฑููุฉุ ุงูุจุคุจุคุ ุงูุนุฏุณุฉุ ุงูุดุจููุฉุ ุงูุนุตุจ ุงูุจุตุฑู).</li>
        <li>ุชูุถูุญ <strong>ุขููุฉ ุงูุฑุคูุฉ</strong> ูู ุฏุฎูู ุงูุถูุก ุญุชู ุชูููู ุงูุตูุฑุฉ ูู ุงูุฏูุงุบ.</li>
        <li>ุดุฑุญ ุฏูุฑ <strong>ุงููุฒุญูุฉ</strong> ูู ุงูุชุญูู ุจูููุฉ ุงูุถูุก ุงูุฏุงุฎู ููุนูู.</li>
        <li>ุชูุณูุฑ <strong>ุนููุจ ุงูุฅุจุตุงุฑ ุงูุดุงุฆุนุฉ</strong>: ูุตุฑ ุงููุธุฑุ ุทูู ุงููุธุฑุ ูุงูุงุณุชุฌูุงุชูุฒู.</li>
        <li>ุงูุชุนุฑู ุนูู <strong>ุทุฑู ุชุตุญูุญ ุนููุจ ุงูุฅุจุตุงุฑ</strong> (ุงููุธุงุฑุงุชุ ุงูุนุฏุณุงุช ุงููุงุตูุฉุ ุงูุฌุฑุงุญุฉ).</li>
        <li>ููู ุฃูููุฉ <strong>ุงูุนูุงูุฉ ุจุตุญุฉ ุงูุนูู</strong> ูุงูููุงูุฉ ูู ุฃูุฑุงุถ ุงูุนููู.</li>"""
        
        # ุงุณุชุจุฏุงู ุงูุฃูุฏุงู
        content = re.sub(
            r'<ul>\s*<li>.*?</li>\s*</ul>',
            f'<ul>\n{new_objectives}\n      </ul>',
            content,
            flags=re.DOTALL
        )
        
        # ุงูุฃุณุฆูุฉ ุงูุฌุฏูุฏุฉ ููุณูุฉ ุฅูู 4 ูุฌููุนุงุช
        new_questions = """      {q:"ูุง ูู ุงูุฌุฒุก ุงูุดูุงู ุงูุฃูุงูู ููุนูู ุงูุฐู ูุณุงุนุฏ ุนูู ุชุฌููุน ุงูุถูุกุ", c:["ุงูุดุจููุฉ","ุงููุฑููุฉ","ุงูุจุคุจุค","ุงูุนุตุจ ุงูุจุตุฑู"], a:1},
      {q:"ุฃูู ุชุชููู ุงูุตูุฑุฉ ูู ุงูุนููุ", c:["ุนูู ุงููุฑููุฉ","ุนูู ุงูุดุจููุฉ","ูู ุงูุจุคุจุค","ูู ุงูุนุฏุณุฉ"], a:1},
      {q:"ูุธููุฉ ุงููุฒุญูุฉ ูู ุงูุนูู ูู:", c:["ุชูููู ุงูุตูุฑุฉ","ุงูุชุญูู ูู ูููุฉ ุงูุถูุก ุงูุฏุงุฎู","ููู ุงูุตูุฑุฉ ููุฏูุงุบ","ุฅูุฑุงุฒ ุงูุฏููุน"], a:1},
      {q:"ุงูุจุคุจุค ูู:", c:["ุนุถูุฉ ูู ุงูุนูู","ุงููุชุญุฉ ุงููุณุทูุฉ ูู ุงููุฒุญูุฉ","ุฌุฒุก ูู ุงูุดุจููุฉ","ููุน ูู ุงูุนุฏุณุงุช"], a:1},
      {q:"ุงูุนุฏุณุฉ ุงูุจููุฑูุฉ ูู ุงูุนูู ุชููู ุจู:", c:["ุฅูุชุงุฌ ุงูุถูุก","ุชุฌููุน ุฃุดุนุฉ ุงูุถูุก ุนูู ุงูุดุจููุฉ","ุญูุงูุฉ ุงูุนูู","ุฅูุฑุงุฒ ุงูุณูุงุฆู"], a:1},
      {q:"ูู ุงูุถูุก ุงูุณุงุทุนุ ุงูุจุคุจุค ูุตุจุญ:", c:["ุฃูุจุฑ ุญุฌูุงู","ุฃุตุบุฑ ุญุฌูุงู","ูุง ูุชุบูุฑ","ูุฎุชูู"], a:1},
      {q:"ุงูุดุจููุฉ ุชุญุชูู ุนูู ุฎูุงูุง ุญุณุงุณุฉ ููุถูุก ุชุณูู:", c:["ุงูุนุตุจููุงุช","ุงููุณุชูุจูุงุช ุงูุถูุฆูุฉ","ุงูุฎูุงูุง ุงูุนุถููุฉ","ุงูุฎูุงูุง ุงูุฏูููุฉ"], a:1},
      {q:"ุงูุนุตุจ ุงูุจุตุฑู ูุธููุชู:", c:["ุชุฌููุน ุงูุถูุก","ููู ุงูุฅุดุงุฑุงุช ุงูุจุตุฑูุฉ ููุฏูุงุบ","ุญูุงูุฉ ุงูุนูู","ุชุญุฑูู ุงูุนูู"], a:1},
      {q:"ูุตุฑ ุงููุธุฑ (Myopia) ูุนูู:", c:["ุฑุคูุฉ ุงูุฃุดูุงุก ุงูุจุนูุฏุฉ ุจูุถูุญ ููุท","ุฑุคูุฉ ุงูุฃุดูุงุก ุงููุฑูุจุฉ ุจูุถูุญ ุฃูุซุฑ ูู ุงูุจุนูุฏุฉ","ุนุฏู ุฑุคูุฉ ุงูุฃููุงู","ููุฏุงู ุงูุจุตุฑ ุชูุงูุงู"], a:1},
      {q:"ุทูู ุงููุธุฑ (Hyperopia) ูุนูู:", c:["ุฑุคูุฉ ุงูุฃุดูุงุก ุงููุฑูุจุฉ ุจูุถูุญ ุฃูุซุฑ ูู ุงูุจุนูุฏุฉ","ุฑุคูุฉ ุงูุฃุดูุงุก ุงูุจุนูุฏุฉ ุจูุถูุญ ุฃูุซุฑ ูู ุงููุฑูุจุฉ","ุฑุคูุฉ ุงูุฃููุงู ููุท","ุนุฏู ุงูุฑุคูุฉ ููุงุฆูุงู"], a:1},
      {q:"ูุตุฑ ุงููุธุฑ ููุตุญุญ ุจุงุณุชุฎุฏุงู:", c:["ุนุฏุณุงุช ูุญุฏุจุฉ","ุนุฏุณุงุช ููุนุฑุฉ","ุนุฏุณุงุช ูุณุทุญุฉ","ูุง ูููู ุชุตุญูุญู"], a:1},
      {q:"ุทูู ุงููุธุฑ ููุตุญุญ ุจุงุณุชุฎุฏุงู:", c:["ุนุฏุณุงุช ููุนุฑุฉ","ุนุฏุณุงุช ูุญุฏุจุฉ","ุนุฏุณุงุช ูุณุทุญุฉ","ุงููุฑุงูุง"], a:1},
      {q:"ุงูุงุณุชุฌูุงุชูุฒู (Astigmatism) ููุชุฌ ุนู:", c:["ุชูู ุงูุดุจููุฉ","ุนุฏู ุงูุชุธุงู ุดูู ุงููุฑููุฉ ุฃู ุงูุนุฏุณุฉ","ุตุบุฑ ุญุฌู ุงูุนูู","ูุจุฑ ุญุฌู ุงูุจุคุจุค"], a:1},
      {q:"ูู ุทุฑู ุชุตุญูุญ ุนููุจ ุงูุฅุจุตุงุฑ:", c:["ุงููุธุงุฑุงุช ุงูุทุจูุฉ","ุงูุนุฏุณุงุช ุงููุงุตูุฉ","ุฌุฑุงุญุฉ ุงูุนูู","ุฌููุน ูุง ุณุจู"], a:3},
      {q:"ููุญูุงุธ ุนูู ุตุญุฉ ุงูุนูู ูููุตุญ ุจู:", c:["ุงููุธุฑ ุงููุจุงุดุฑ ููุดูุณ","ุงููุฑุงุกุฉ ูู ุงูุฅุถุงุกุฉ ุงูุถุนููุฉ","ุฃุฎุฐ ุฑุงุญุฉ ููุชุธูุฉ ุฃุซูุงุก ุงุณุชุฎุฏุงู ุงูุดุงุดุงุช","ุฅููุงู ูุญุต ุงูุนูู"], a:2},
      {q:"ุงูุนุถูุงุช ุงูุชู ุชุชุญูู ูู ุดูู ุงูุนุฏุณุฉ ุชุณูู:", c:["ุงูุนุถูุงุช ุงููุฏุจูุฉ","ุนุถูุงุช ุงููุฒุญูุฉ","ุนุถูุงุช ุงูุฌูู","ุนุถูุงุช ุงููุฌู"], a:0},
      {q:"ุงููุณุงูุฉ ุงููุซูู ูููุฑุงุกุฉ ูู ุงููุชุงุจ ูู:", c:["5 ุณู","ุญูุงูู 25-30 ุณู","ูุชุฑ ูุงุญุฏ","ูุชุฑูู"], a:1},
      {q:"ุฃู ูู ุงูุชุงูู ูุถุฑ ุจุตุญุฉ ุงูุนููุ", c:["ุงูุฅุถุงุกุฉ ุงูุฌูุฏุฉ ุฃุซูุงุก ุงููุฑุงุกุฉ","ุฃุฎุฐ ุฑุงุญุฉ ูู 20 ุฏูููุฉ","ุงููุธุฑ ุงููุจุงุดุฑ ููุตุงุฏุฑ ุถูุก ูููุฉ","ุงุฑุชุฏุงุก ุงููุธุงุฑุงุช ุงูุดูุณูุฉ"], a:2},
      {q:"ุฌุฑุงุญุฉ ุงูููุฒู (LASIK) ุชุณุชุฎุฏู ูู:", c:["ุฅุฒุงูุฉ ุงูููุงู ุงูุจูุถุงุก","ุชุตุญูุญ ุนููุจ ุงูุฅุจุตุงุฑ","ุนูุงุฌ ุงูุนูู ุงูุฃููุงู","ุชูุจูุฑ ุญุฌู ุงูุนูู"], a:1},
      {q:"ุฃูููุฉ ูุญุต ุงูุนูู ุงูุฏูุฑู:", c:["ูุถูุนุฉ ููููุช","ุงููุดู ุงููุจูุฑ ุนู ูุดุงูู ุงูุจุตุฑ","ูููู ููุท","ุบูุฑ ุถุฑูุฑู ููุดุจุงุจ"], a:1}"""
        
        # ุงุณุชุจุฏุงู ุจูู ุงูุฃุณุฆูุฉ
        content = re.sub(
            r'const bank = \[\s*\{q:.*?\}\s*\];',
            f'const bank = [\n{new_questions}\n    ];',
            content,
            flags=re.DOTALL
        )
        
        # ุญูุธ ุงูููู ุงููุญุฏุซ
        with open(file_path, 'w', encoding='utf-8') as file:
            file.write(content)
        
        print("๐ ุชู ุชุญุฏูุซ ุงูุฏุฑุณ 6-3 ุจูุฌุงุญ!")
        print("๐ ุฅุญุตุงุฆูุงุช ุงูุชุญุฏูุซ:")
        print("   โ ุงูุนููุงู: ุงูุนูู")
        print("   โ ุงูุฃูุฏุงู: 6 ุฃูุฏุงู ุฌุฏูุฏุฉ")
        print("   โ ุงูุฃุณุฆูุฉ: 20 ุณุคุงู ููุธู ูู 4 ูุฌููุนุงุช:")
        print("      - ุงููุฌููุนุฉ ุงูุฃููู: ุชุฑููุจ ุงูุนูู (5 ุฃุณุฆูุฉ)")
        print("      - ุงููุฌููุนุฉ ุงูุซุงููุฉ: ุขููุฉ ุงูุฑุคูุฉ (5 ุฃุณุฆูุฉ)")
        print("      - ุงููุฌููุนุฉ ุงูุซุงูุซุฉ: ุนููุจ ุงูุฅุจุตุงุฑ ูุชุตุญูุญูุง (5 ุฃุณุฆูุฉ)")
        print("      - ุงููุฌููุนุฉ ุงูุฑุงุจุนุฉ: ุงูุนูุงูุฉ ุจุตุญุฉ ุงูุนูู (5 ุฃุณุฆูุฉ)")
        print("   ๐ฌ ุงูููุงุถูุน: ุชุฑููุจ ุงูุนููุ ุงูุฑุคูุฉุ ุนููุจ ุงูุฅุจุตุงุฑุ ุงูุนูุงูุฉ ุจุงูุนูู")
        print("   ๐ฏ ูุชุงุฆุฌ ุงูุชุนูู: ููู ุดุงูู ููุณููููุฌูุง ุงูุจุตุฑ ูุทุฑู ุงูุนูุงูุฉ ุจุงูุนูู")
        
    except FileNotFoundError:
        print("โ ุฎุทุฃ: ูู ูุชู ุงูุนุซูุฑ ุนูู ููู ุงูุฏุฑุณ!")
        print("๐ ุชุฃูุฏ ูู ูุฌูุฏ ุงููุณุงุฑ: unit-6-homeostasis/lesson-6-3/index.html")
    except Exception as e:
        print(f"โ ุฎุทุฃ ุบูุฑ ูุชููุน: {e}")

if __name__ == "__main__":
    update_lesson_6_3()