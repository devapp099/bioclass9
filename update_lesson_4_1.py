#!/usr/bin/env python3
# -*- coding: utf-8 -*-

import re
import os

def update_lesson_4_1():
    """ุชุญุฏูุซ ูุญุชูู ุงูุฏุฑุณ 4-1: ุงููุธุงู ุงูุบุฐุงุฆู"""
    
    file_path = r"unit-4-nutrition\lesson-4-1\index.html"
    
    if not os.path.exists(file_path):
        print(f"โ ุงูููู ุบูุฑ ููุฌูุฏ: {file_path}")
        return False
    
    try:
        # ูุฑุงุกุฉ ุงูููู
        with open(file_path, 'r', encoding='utf-8') as file:
            content = file.read()
        
        # ุชุญุฏูุซ ุนููุงู ุงูุฏุฑุณ ููุตูู
        content = re.sub(
            r'<h1>.*?</h1>\s*<p class="lead">.*?</p>',
            '<h1>ุงููุธุงู ุงูุบุฐุงุฆู</h1>\n      <p class="lead">ุฏุฑุงุณุฉ ุงููุธุงู ุงูุบุฐุงุฆู ุงููุชูุงุฒู ูุงููุฌููุนุงุช ุงูุบุฐุงุฆูุฉ ูุฃูููุชูุง ููุตุญุฉ</p>',
            content,
            flags=re.DOTALL
        )
        
        # ุงูุฃูุฏุงู ุงูุฌุฏูุฏุฉ
        new_objectives = """        <li>ุชุนุฑูู ุงููุธุงู ุงูุบุฐุงุฆู ุงููุชูุงุฒู ูุฃูููุชู ูุตุญุฉ ุงูุฅูุณุงู.</li>
        <li>ุฐูุฑ ุงููุฌููุนุงุช ุงูุบุฐุงุฆูุฉ ุงูุฑุฆูุณุฉ (ุงููุฑุจูููุฏุฑุงุช โ ุงูุจุฑูุชููุงุช โ ุงูุฏููู โ ุงูููุชุงูููุงุช โ ุงููุนุงุฏู โ ุงูุฃููุงู โ ุงููุงุก).</li>
        <li>ุชูุณูุฑ ุฏูุฑ ูู ูุฌููุนุฉ ุบุฐุงุฆูุฉ ูู ุงูุฌุณู (ุงูุทุงูุฉุ ุงููููุ ุงูููุงูุฉ).</li>
        <li>ุงูุชูููุฒ ุจูู ุงูุงุญุชูุงุฌุงุช ุงูุบุฐุงุฆูุฉ ุนูุฏ ุงูุฃุทูุงูุ ุงููุฑุงููููุ ูุงูุจุงูุบูู.</li>
        <li>ุญุณุงุจ ุงูุณุนุฑุงุช ุงูุญุฑุงุฑูุฉ ูููุงุฑูุชูุง ุจุงุญุชูุงุฌุงุช ุงูุฌุณู.</li>
        <li>ุฑุจุท ุณูุก ุงููุธุงู ุงูุบุฐุงุฆู ุจูุดููุงุช ุตุญูุฉ ูุซู ุงูุณููุฉ ูููุต ุงูููุชุงูููุงุช.</li>"""
        
        # ุงุณุชุจุฏุงู ุงูุฃูุฏุงู
        content = re.sub(
            r'<ul>\s*<li>.*?</li>\s*</ul>',
            f'<ul>\n{new_objectives}\n      </ul>',
            content,
            flags=re.DOTALL
        )
        
        # ุงูุฃุณุฆูุฉ ุงูุฌุฏูุฏุฉ ููุณูุฉ ุฅูู 4 ูุฌููุนุงุช
        new_questions = """      {q:"ุงููุธุงู ุงูุบุฐุงุฆู ุงููุชูุงุฒู ูู ุงูุฐู ูุญุชูู ุนูู:", c:["ุงููุฑุจูููุฏุฑุงุช ููุท","ุฌููุน ุงููุฌููุนุงุช ุงูุบุฐุงุฆูุฉ ุจูุณุจ ููุงุณุจุฉ","ุงูุจุฑูุชููุงุช ูุงูุฏููู ููุท","ุงููุงุก ููุท"], a:1},
      {q:"ุฃู ูู ุงููุฌููุนุงุช ุงูุบุฐุงุฆูุฉ ุชูุนุฏ ูุตุฏุฑูุง ุฑุฆูุณููุง ููุทุงูุฉุ", c:["ุงูุจุฑูุชููุงุช","ุงููุฑุจูููุฏุฑุงุช","ุงููุนุงุฏู","ุงูููุชุงูููุงุช"], a:1},
      {q:"ุงูุจุฑูุชููุงุช ุชูุนุฏ ุถุฑูุฑูุฉ ูู ุฃุฌู:", c:["ุฅูุชุงุฌ ุงูุทุงูุฉ ููุท","ุจูุงุก ุฃูุณุฌุฉ ุงูุฌุณู","ุงูุนุฒู ุงูุญุฑุงุฑู","ุชูุธูู ุฏุฑุฌุฉ ุงูุญุฑุงุฑุฉ"], a:1},
      {q:"ุงูุฏููู ุชูุณุชุฎุฏู ุจุดูู ุฃุณุงุณู ูู ุงูุฌุณู ูู:", c:["ุชูููู ุงูุฃุฌุณุงู ุงููุถุงุฏุฉ","ุงูุนุฒู ูุชุฎุฒูู ุงูุทุงูุฉ","ุชูููู ุงูุนุธุงู","ุชูููู ุงูุฅูุฒููุงุช"], a:1},
      {q:"ุงูููุชุงูููุงุช ูุงููุนุงุฏู ุฏูุฑูุง ุงูุฃุณุงุณู ูู:", c:["ูุฏ ุงูุฌุณู ุจุงูุทุงูุฉ","ุชูุธูู ุงูุนูููุงุช ุงูุญูููุฉ","ุจูุงุก ุงูุนุถูุงุช","ุฅูุชุงุฌ ุงูุฏููู"], a:1},
      {q:"ูุดูู ุงููุงุก ูุณุจุฉ ุชูุฑูุจูุฉ ูู ูุฒู ุฌุณู ุงูุฅูุณุงู ููุฏุงุฑูุง:", c:["25%","45%","60 โ 70%","90%"], a:2},
      {q:"ุงูุฃููุงู ุงูุบุฐุงุฆูุฉ ูููุฉ ูุฃููุง:", c:["ูุตุฏุฑ ุฑุฆูุณู ููุทุงูุฉ","ุชุณุงุนุฏ ูู ุญุฑูุฉ ุงูุฃูุนุงุก","ุชูุฎุฒู ูู ุงูุนุถูุงุช","ุชููุชุฌ ุงูููุชุงูููุงุช"], a:1},
      {q:"ููุต ุงูุฃููุงู ูู ุงููุธุงู ุงูุบุฐุงุฆู ูุฏ ูุคุฏู ุฅูู:", c:["ุถุนู ุงูุนุถูุงุช","ุงูุฅูุณุงู","ูุดุงุดุฉ ุงูุนุธุงู","ุงูุณููุฉ"], a:1},
      {q:"ูู ุงูุฃูุซูุฉ ุนูู ุงูุฃุทุนูุฉ ุงูุบููุฉ ุจุงูุฃููุงู:", c:["ุงููุญูู","ุงูุญุจูุจ ุงููุงููุฉ","ุงูุฃุฌุจุงู","ุงูุจูุถ"], a:1},
      {q:"ุฃูู ูุงุฆุฏุฉ ูุดุฑุจ ุงููุงุก ุจูููุฉ ูุงููุฉ ูู:", c:["ุฒูุงุฏุฉ ุงููุชูุฉ ุงูุนุถููุฉ","ุฅุฐุงุจุฉ ูููู ุงูููุงุฏ ุฏุงุฎู ุงูุฌุณู","ุฅูุชุงุฌ ุงูุจุฑูุชูู","ุฒูุงุฏุฉ ุงูุณุนุฑุงุช ุงูุญุฑุงุฑูุฉ"], a:1},
      {q:"ูุญุฏุฉ ููุงุณ ุงูุทุงูุฉ ูู ุงูุบุฐุงุก ูู:", c:["ุงูุฌูู","ุงููููู ุฌูู","ุงูุณุนุฑ ุงูุญุฑุงุฑู (Calorie)","ุงููุงุช"], a:2},
      {q:"ุงุญุชูุงุฌุงุช ุงูุฌุณู ูู ุงูุทุงูุฉ ุชุนุชูุฏ ุนูู:", c:["ุงูุนูุฑ ูุงูุฌูุณ ูุงููุดุงุท","ููู ุงูุนูู","ุงูุทูู ููุท","ูุณุชูู ุงูุฐูุงุก"], a:0},
      {q:"ุงูุทูู ูุญุชุงุฌ ูุณุจุฉ ุฃูุจุฑ ูู:", c:["ุงูุฏููู","ุงูุจุฑูุชูู","ุงูุฃููุงู","ุงููุงุก"], a:1},
      {q:"ุงูุฑูุงุถููู ูุญุชุงุฌูู ูููุงุช ุฃูุจุฑ ูู:", c:["ุงููุฑุจูููุฏุฑุงุช","ุงูููุชุงูููุงุช ููุท","ุงููุงุก ููุท","ุงูุฏููู ููุท"], a:0},
      {q:"ููุต ุงููุงูุณููู ูู ุงููุธุงู ุงูุบุฐุงุฆู ูุณุจุจ:", c:["ุงูุฃููููุง","ูุดุงุดุฉ ุงูุนุธุงู","ุงูุฅุณูุฑุจูุท","ุงูููุงุดููุฑููุฑ"], a:1},
      {q:"ุฃู ููุง ููู ููุนุฏ ูุซุงููุง ุนูู ูุธุงู ุบุฐุงุฆู ูุชูุงุฒูุ", c:["ูุฌุจุฉ ุชุญุชูู ุนูู ุฎุจุฒุ ุฎุถุงุฑุ ูุญูุ ูุงููุฉุ ูุงุก","ูุฌุจุฉ ูู ุงูุญูููุงุช ููุท","ูุฌุจุฉ ูู ุงููุญูู ููุท","ูุฌุจุฉ ูู ุงูุฏููู ููุท"], a:0},
      {q:"ููุต ููุชุงููู C ูุคุฏู ุฅูู ูุฑุถ:", c:["ุงููุณุงุญ","ุงูุฅุณูุฑุจูุท","ููุฑ ุงูุฏู","ุงูููุงุดููุฑููุฑ"], a:1},
      {q:"ููุต ุงูุญุฏูุฏ ูู ุงููุธุงู ุงูุบุฐุงุฆู ูุคุฏู ุฅูู:", c:["ูุดุงุดุฉ ุงูุนุธุงู","ููุฑ ุงูุฏู (ุฃููููุง)","ุงูุฅุณูุฑุจูุท","ุงูููุงุดููุฑููุฑ"], a:1},
      {q:"ุงููุธุงู ุงูุบุฐุงุฆู ุบูุฑ ุงููุชูุงุฒู ูุคุฏู ุฅูู:", c:["ุตุญุฉ ุฌูุฏุฉ","ุฃูุฑุงุถ ุณูุก ุงูุชุบุฐูุฉ","ุฒูุงุฏุฉ ุงูููุงุนุฉ ุฏุงุฆููุง","ุฒูุงุฏุฉ ุงูุฐูุงุก"], a:1},
      {q:"ุฃู ูู ุงูุชุงูู ููุซู ูุซุงููุง ุนูู ุณูุก ุงูุชุบุฐูุฉุ", c:["ุชูุงูู ูุฌุจุงุช ูุชููุนุฉ","ููุต ุงูููุชุงูููุงุช ูุงููุนุงุฏู","ุดุฑุจ ุงููุงุก ุจูุซุฑุฉ","ุชูุงูู ุงูููุงูู ูุงูุฎุถุฑูุงุช ุจุงูุชุธุงู"], a:1}"""
        
        # ุงุณุชุจุฏุงู ุจูู ุงูุฃุณุฆูุฉ
        content = re.sub(
            r'const bank = \[\s*\{q:.*?\}\s*\];',
            f'const bank = [\n{new_questions}\n    ];',
            content,
            flags=re.DOTALL
        )
        
        # ุญูุธ ุงูููู ุงููุญุฏุซ
        with open(file_path, 'w', encoding='utf-8') as file:
            file.write(content)
        
        print("๐ ุชู ุชุญุฏูุซ ุงูุฏุฑุณ 4-1 ุจูุฌุงุญ!")
        print("๐ ุฅุญุตุงุฆูุงุช ุงูุชุญุฏูุซ:")
        print("   โ ุงูุนููุงู: ุงููุธุงู ุงูุบุฐุงุฆู")
        print("   โ ุงูุฃูุฏุงู: 6 ุฃูุฏุงู ุฌุฏูุฏุฉ")
        print("   โ ุงูุฃุณุฆูุฉ: 20 ุณุคุงู ููุธู ูู 4 ูุฌููุนุงุช:")
        print("      - ุงููุฌููุนุฉ ุงูุฃููู: ุงูููุงููู ุงูุฃุณุงุณูุฉ (5 ุฃุณุฆูุฉ)")
        print("      - ุงููุฌููุนุฉ ุงูุซุงููุฉ: ุงููุงุก ูุงูุฃููุงู (5 ุฃุณุฆูุฉ)")
        print("      - ุงููุฌููุนุฉ ุงูุซุงูุซุฉ: ุงูุงุญุชูุงุฌุงุช ูุงูุณุนุฑุงุช (5 ุฃุณุฆูุฉ)")
        print("      - ุงููุฌููุนุฉ ุงูุฑุงุจุนุฉ: ุงูุชูููู ูุงูุชุทุจููุงุช (5 ุฃุณุฆูุฉ)")
        
        return True
        
    except Exception as e:
        print(f"โ ุฎุทุฃ ูู ุชุญุฏูุซ ุงูููู: {e}")
        return False

if __name__ == "__main__":
    update_lesson_4_1()