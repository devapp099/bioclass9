#!/usr/bin/env python3
# -*- coding: utf-8 -*-

import re

# ุงูุฃูุฏุงู ุงูุฌุฏูุฏุฉ ููุฏุฑุณ 2-1
new_objectives = """        <li>ุชุนุฑูู ุงูุงูุชุดุงุฑ ุจูุตูู ุญุฑูุฉ ุงูุฌุฒูุฆุงุช ูู ุชุฑููุฒ ุนุงูู ุฅูู ุชุฑููุฒ ููุฎูุถ.</li>
        <li>ุชูุถูุญ ุฃู ุงูุงูุชุดุงุฑ ุนูููุฉ ุณูุจูุฉ ูุง ุชุญุชุงุฌ ุฅูู ุทุงูุฉ.</li>
        <li>ุฐูุฑ ุฃูุซูุฉ ุนูู ุงูุงูุชุดุงุฑ ูู ุงููุงุฆูุงุช ุงูุญูุฉ (ุฏุฎูู ุงูุฃูุณุฌููุ ุฎุฑูุฌ ุซุงูู ุฃูุณูุฏ ุงููุฑุจููุ ุงูุชูุงู ุงูุฑูุงุฆุญ).</li>
        <li>ุชูุณูุฑ ุงูุนูุงูู ุงููุคุซุฑุฉ ูู ุณุฑุนุฉ ุงูุงูุชุดุงุฑ (ุงูุชุฑููุฒุ ุฏุฑุฌุฉ ุงูุญุฑุงุฑุฉุ ูุณุงุญุฉ ุงูุณุทุญุ ุญุฌู ุงูุฌุฒูุฆุงุช).</li>
        <li>ุงูุฑุจุท ุจูู ุงูุงูุชุดุงุฑ ูุฃูููุฉ ุจูุงุก ุงููุงุฆูุงุช ุงูุญูุฉ.</li>
        <li>ุงูุชูููุฒ ุจูู ุงูุงูุชุดุงุฑ ูุงูุฃุณููุฒูุฉ ูุนูููุชูู ูุฎุชููุชูู.</li>"""

# ุจูู ุงูุฃุณุฆูุฉ ุงูุฌุฏูุฏ ููุฏุฑุณ 2-1 - 20 ุณุคุงู ููุธู ูู 4 ูุฌููุนุงุช
new_questions = [
    # ุงููุฌููุนุฉ ุงูุฃููู: ุงูุฃุณุงุณูุงุช (5 ุฃุณุฆูุฉ)
    {"q": "ูุง ุชุนุฑูู ุงูุงูุชุดุงุฑุ", "c": ["ุญุฑูุฉ ุงูุฌุฒูุฆุงุช ูู ุชุฑููุฒ ููุฎูุถ ุฅูู ุชุฑููุฒ ุนุงูู", "ุญุฑูุฉ ุงูุฌุฒูุฆุงุช ูู ุชุฑููุฒ ุนุงูู ุฅูู ุชุฑููุฒ ููุฎูุถ", "ุญุฑูุฉ ุงููุงุก ููุท ุนุจุฑ ุงูุบุดุงุก", "ุญุฑูุฉ ุงูููุงุฏ ุถุฏ ุชุฏุฑุฌ ุงูุชุฑููุฒ"], "a": 1},
    {"q": "ุงูุงูุชุดุงุฑ ุนูููุฉ:", "c": ["ูุดุทุฉ ูุชุญุชุงุฌ ุฅูู ุทุงูุฉ", "ุณูุจูุฉ ููุง ุชุญุชุงุฌ ุฅูู ุทุงูุฉ", "ูุฑุชุจุทุฉ ุจุงูุจูุงุณุชูุฏุงุช", "ุชุญุฏุซ ููุท ูู ุงูุญููุงูุงุช"], "a": 1},
    {"q": "ูุซุงู ุนูู ุงูุงูุชุดุงุฑ ูู ุฌุณู ุงูุฅูุณุงู ูู:", "c": ["ุฏุฎูู ุงููุงุก ุฅูู ุงูุฎููุฉ", "ุฏุฎูู ุงูุฃูุณุฌูู ุฅูู ุงูุฏู ุนุจุฑ ุงูุฑุฆุชูู", "ููู ุงูุฏู ุนุจุฑ ุงูุดุฑุงููู", "ุจูุงุก ุงูุจุฑูุชูู"], "a": 1},
    {"q": "ุนูููุฉ ุฎุฑูุฌ ุซุงูู ุฃูุณูุฏ ุงููุฑุจูู ูู ุงูุฎูุงูุง ุฅูู ุงูุฏู ุชุญุฏุซ ุจูุณุงุทุฉ:", "c": ["ุงูููู ุงููุดุท", "ุงูุงูุชุดุงุฑ", "ุงูุฃุณููุฒูุฉ", "ุงูุจูุนูุฉ"], "a": 1},
    {"q": "ุฃู ูู ุงูุนุจุงุฑุงุช ุงูุชุงููุฉ ุตุญูุญุฉ ุนู ุงูุงูุชุดุงุฑุ", "c": ["ูุญุชุงุฌ ุฅูู ุฅูุฒููุงุช", "ูุนุชูุฏ ุนูู ุงูุทุงูุฉ ุงูููููุงุฆูุฉ", "ูุง ูุญุชุงุฌ ุฅูู ุทุงูุฉ", "ูุญุฏุซ ูู ุงุชุฌุงู ุนุดูุงุฆู"], "a": 2},
    
    # ุงููุฌููุนุฉ ุงูุซุงููุฉ: ุงูุนูุงูู ุงููุคุซุฑุฉ (5 ุฃุณุฆูุฉ)
    {"q": "ูููุง ุฒุงุฏ ูุฑู ุงูุชุฑููุฒ ุจูู ููุทูุชูู:", "c": ["ูู ูุนุฏู ุงูุงูุชุดุงุฑ", "ุฒุงุฏ ูุนุฏู ุงูุงูุชุดุงุฑ", "ุชููู ุงูุงูุชุดุงุฑ", "ูู ูุชุบูุฑ ุดูุก"], "a": 1},
    {"q": "ูู ุงูุนูุงูู ุงูุชู ุชุฒูุฏ ุณุฑุนุฉ ุงูุงูุชุดุงุฑ:", "c": ["ุงูุฎูุงุถ ุฏุฑุฌุฉ ุงูุญุฑุงุฑุฉ", "ุตุบุฑ ูุณุงุญุฉ ุงูุณุทุญ", "ุฒูุงุฏุฉ ูุณุงุญุฉ ุงูุณุทุญ", "ุฒูุงุฏุฉ ุญุฌู ุงูุฌุฒูุฆุงุช"], "a": 2},
    {"q": "ุฃู ููุง ููู ูุจุทุฆ ุนูููุฉ ุงูุงูุชุดุงุฑุ", "c": ["ุฒูุงุฏุฉ ุฏุฑุฌุฉ ุงูุญุฑุงุฑุฉ", "ุฒูุงุฏุฉ ุญุฌู ุงูุฌุฒูุฆุงุช", "ุฒูุงุฏุฉ ูุฑู ุงูุชุฑููุฒ", "ุชูููู ุงููุณุงูุฉ ููุงูุชุดุงุฑ"], "a": 1},
    {"q": "ุงูุชุดุงุฑ ุฌุฒูุฆุงุช ุตุบูุฑุฉ ุฃุณุฑุน ูู ุงูุฌุฒูุฆุงุช ุงููุจูุฑุฉ ุจุณุจุจ:", "c": ["ูุจุฑ ุญุฌููุง", "ุตุบุฑ ุญุฌููุง ูุณูููุฉ ุญุฑูุชูุง", "ุญุงุฌุชูุง ุฅูู ุทุงูุฉ", "ุงุญุชูุงุฆูุง ุนูู ุจุฑูุชููุงุช"], "a": 1},
    {"q": "ุฃู ููุง ููู ูุซุงู ุนูู ุฒูุงุฏุฉ ูุณุงุญุฉ ุงูุณุทุญ ูุชุณุฑูุน ุงูุงูุชุดุงุฑ ูู ุงููุงุฆูุงุช ุงูุญูุฉุ", "c": ["ุฌูุฏ ุงูุฅูุณุงู", "ูุฌูุฏ ุงูุญููุตูุงุช ุงูููุงุฆูุฉ ูู ุงูุฑุฆุชูู", "ุงูุฃุณูุงู", "ุงูุนุธุงู"], "a": 1},
    
    # ุงููุฌููุนุฉ ุงูุซุงูุซุฉ: ุฃูุซูุฉ ูุชุทุจููุงุช (5 ุฃุณุฆูุฉ)
    {"q": "ุฑุงุฆุญุฉ ุงูุนุทุฑ ุชูุชุดุฑ ูู ุงูุบุฑูุฉ ุจุณุจุจ:", "c": ["ุงูููู ุงููุดุท", "ุงูุงูุชุดุงุฑ", "ุงูุฃุณููุฒูุฉ", "ุงูุชูุตูู ุงูุญุฑุงุฑู"], "a": 1},
    {"q": "ุฃู ููุง ููู ูุง ููุนุชุจุฑ ูุซุงููุง ุนูู ุงูุงูุชุดุงุฑุ", "c": ["ุชุจุงุฏู ุงูุบุงุฒุงุช ูู ุงูุฑุฆุฉ", "ุฐูุจุงู ุงูุณูุฑ ูู ุงููุงุก", "ุงูุชูุงู ุงูุฃูุณุฌูู ูู ุงูุฏู ุฅูู ุงูุฎูุงูุง", "ุฎุฑูุฌ ุซุงูู ุฃูุณูุฏ ุงููุฑุจูู ูู ุงูุฎูุงูุง"], "a": 1},
    {"q": "ูุญุฏุซ ุงูุงูุชุดุงุฑ ุจุดูู ุฃุณุฑุน ุนูุฏูุง ุชููู ุฏุฑุฌุฉ ุงูุญุฑุงุฑุฉ:", "c": ["ููุฎูุถุฉ ุฌุฏูุง", "ูุชูุณุทุฉ", "ุนุงููุฉ", "ูุง ุนูุงูุฉ ููุง"], "a": 2},
    {"q": "ุงูุฃูุณุฌูู ููุชูู ูู ุงูุฏู ุฅูู ุงูุฎูุงูุง ูุฃู:", "c": ["ุชุฑููุฒู ุฃุนูู ูู ุงูุฎูุงูุง", "ุชุฑููุฒู ุฃุนูู ูู ุงูุฏู", "ุงูุฎูุงูุง ุชูุฑุฒู", "ูุญุชุงุฌ ุฅูู ุทุงูุฉ"], "a": 1},
    {"q": "ุฃู ูู ุงูุนุจุงุฑุงุช ุงูุชุงููุฉ ุชูุซู ุชุทุจูููุง ููุงูุชุดุงุฑ ูู ุงููุจุงุชุ", "c": ["ุงูุชูุงู ุงููุงุก ูู ุงูุฎุดุจ", "ุฎุฑูุฌ ุงูุฃูุณุฌูู ุฎูุงู ุงูุซุบูุฑ", "ุฏุฎูู ุงููุงุก ุนุจุฑ ุงูุดุนูุฑุงุช ุงูุฌุฐุฑูุฉ", "ููู ุงูุณูุฑ ูู ุงููุญุงุก"], "a": 1},
    
    # ุงููุฌููุนุฉ ุงูุฑุงุจุนุฉ: ุงูููุงุฑูุงุช ูุงูุชูููู (5 ุฃุณุฆูุฉ)
    {"q": "ุงููุฑู ุงูุฑุฆูุณ ุจูู ุงูุงูุชุดุงุฑ ูุงูุฃุณููุฒูุฉ ุฃู:", "c": ["ุงูุงูุชุดุงุฑ ุฎุงุต ุจุงููุงุก ููุท", "ุงูุฃุณููุฒูุฉ ุฎุงุตุฉ ุจุงููุงุก", "ุงูุฃุณููุฒูุฉ ูุง ุชุญุชุงุฌ ุบุดุงุก", "ุงูุงูุชุดุงุฑ ูุญุชุงุฌ ุฅูู ุจุฑูุชููุงุช"], "a": 1},
    {"q": "ุนูููุฉ ุงูุงูุชุดุงุฑ ุชุณุชูุฑ ุญุชู:", "c": ["ููุงุฏ ุงูุฌุฒูุฆุงุช", "ุงููุตูู ุฅูู ุญุงูุฉ ุงุชุฒุงู", "ุชููู ุงูุชููุณ", "ุงุณุชููุงู ุงูุทุงูุฉ"], "a": 1},
    {"q": "ุฅุฐุง ูุงู ุชุฑููุฒ ุงูุฃูุณุฌูู ูู ุงูููุงุก 21% ููู ุงูุฏู 15% ูุฅู ุงุชุฌุงู ุงูุงูุชุดุงุฑ ูููู:", "c": ["ูู ุงูุฏู ุฅูู ุงูููุงุก", "ูู ุงูููุงุก ุฅูู ุงูุฏู", "ูุง ูุญุฏุซ ุงูุชุดุงุฑ", "ููุง ุงูุงุชุฌุงููู ูุนูุง"], "a": 1},
    {"q": "ุงูุชุดุงุฑ ุงูุบุงุฒุงุช ุนุจุฑ ุบุดุงุก ุฑููู ุฃุณุฑุน ูุฃู:", "c": ["ุงูุบุดุงุก ูุณูุญ ุจูุฑูุฑ ุงูุฌุฒูุฆุงุช ุงููุจูุฑุฉ", "ุงููุณุงูุฉ ูุตูุฑุฉ", "ูุญุชุงุฌ ุฅูู ุจุฑูุชููุงุช", "ุงูุทุงูุฉ ุชุฒุฏุงุฏ"], "a": 1},
    {"q": "ุฃู ููุง ููู ููุนุชุจุฑ ูุตููุง ุฏููููุง ููุงูุชุดุงุฑุ", "c": ["ุงูุชูุงู ุงูุฌุฒูุฆุงุช ุจุนูุณ ุชุฏุฑุฌ ุงูุชุฑููุฒ", "ุงูุชูุงู ุงูุฌุฒูุฆุงุช ูุน ุชุฏุฑุฌ ุงูุชุฑููุฒ", "ุงูุชูุงู ุงููุงุก ููุท", "ุญุฑูุฉ ุฃูููุงุช ุนุจุฑ ูุถุฎุงุช"], "a": 1}
]

def update_lesson_2_1():
    # ูุฑุงุกุฉ ุงูููู ุงูุญุงูู
    with open(r'c:\Users\ahm7d\Desktop\W\unit-2-transport\lesson-2-1\index.html', 'r', encoding='utf-8') as f:
        content = f.read()
    
    # 1. ุชุญุฏูุซ ุนููุงู ุงูุฏุฑุณ
    content = content.replace('ุงูููู ุนุจุฑ ุงูุฃุบุดูุฉ', 'ุงูุงูุชุดุงุฑ')
    content = content.replace('ููู ุขููุงุช ุงูููู ุงููุฎุชููุฉ ุนุจุฑ ุฃุบุดูุฉ ุงูุฎูุงูุง ูุงูุนูุงูู ุงููุคุซุฑุฉ ุนูููุง', 'ุชุนูู ููููู ุงูุงูุชุดุงุฑ ูุงูุนูุงูู ุงููุคุซุฑุฉ ููู ูุน ุฃูุซูุฉ ูู ุงููุงุฆูุงุช ุงูุญูุฉ')
    
    # 2. ุชุญุฏูุซ ุงูุฃูุฏุงู
    objectives_pattern = r'(<ul>\s*)(.*?)(\s*</ul>)'
    objectives_match = re.search(objectives_pattern, content, re.DOTALL)
    if objectives_match:
        content = content.replace(objectives_match.group(0), f'<ul>\n{new_objectives}\n      </ul>')
        print("โ ุชู ุชุญุฏูุซ ุงูุฃูุฏุงู ุจูุฌุงุญ!")
    
    # 3. ุชุญุฏูุซ ุจูู ุงูุฃุณุฆูุฉ
    # ุงูุจุญุซ ุนู ุจุฏุงูุฉ ูุตูููุฉ bank
    bank_pattern = r'(const bank = \[)(.*?)(\];)'
    bank_match = re.search(bank_pattern, content, re.DOTALL)
    
    if bank_match:
        # ุชูููู ุงูุฃุณุฆูุฉ ุงูุฌุฏูุฏุฉ ููุต JavaScript
        questions_js = []
        for i, question in enumerate(new_questions):
            q_text = question['q'].replace('"', '\\"')
            choices = '","'.join([choice.replace('"', '\\"') for choice in question['c']])
            questions_js.append(f'      {{q:"{q_text}", c:["{choices}"], a:{question["a"]}}}')
        
        new_bank_content = ',\n'.join(questions_js)
        new_bank = f'{bank_match.group(1)}\n{new_bank_content}\n    {bank_match.group(3)}'
        
        content = content.replace(bank_match.group(0), new_bank)
        print("โ ุชู ุชุญุฏูุซ ุจูู ุงูุฃุณุฆูุฉ ุจูุฌุงุญ!")
    
    # ูุชุงุจุฉ ุงูููู ุงููุญุฏุซ
    with open(r'c:\Users\ahm7d\Desktop\W\unit-2-transport\lesson-2-1\index.html', 'w', encoding='utf-8') as f:
        f.write(content)
    
    print("๐ ุชู ุชุญุฏูุซ ุงูุฏุฑุณ 2-1 ุจูุฌุงุญ!")
    print("๐ ุงูุฅุญุตุงุฆูุงุช:")
    print(f"   โข ุชู ุชุญุฏูุซ {len(new_objectives.split('<li>'))-1} ุฃูุฏุงู ุชุนููููุฉ")
    print(f"   โข ุชู ุชุญุฏูุซ {len(new_questions)} ุณุคุงู ุชูุงุนูู")
    print("   โข ุงููุฌููุนุฉ ุงูุฃููู: ุงูุฃุณุงุณูุงุช (5 ุฃุณุฆูุฉ)")
    print("   โข ุงููุฌููุนุฉ ุงูุซุงููุฉ: ุงูุนูุงูู ุงููุคุซุฑุฉ (5 ุฃุณุฆูุฉ)")  
    print("   โข ุงููุฌููุนุฉ ุงูุซุงูุซุฉ: ุฃูุซูุฉ ูุชุทุจููุงุช (5 ุฃุณุฆูุฉ)")
    print("   โข ุงููุฌููุนุฉ ุงูุฑุงุจุนุฉ: ุงูููุงุฑูุงุช ูุงูุชูููู (5 ุฃุณุฆูุฉ)")

if __name__ == "__main__":
    update_lesson_2_1()