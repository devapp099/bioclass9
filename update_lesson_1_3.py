#!/usr/bin/env python3
# -*- coding: utf-8 -*-

import re

# ุงูุฃูุฏุงู ุงูุฌุฏูุฏุฉ ููุฏุฑุณ 1-3
new_objectives = """        <li>ุชุณููุฉ ุงูุนุถูุงุช ุงูุฑุฆูุณุฉ ูู ุงูุฎูุงูุง ุงููุจุงุชูุฉ ูุงูุญููุงููุฉ.</li>
        <li>ูุตู ูุธุงุฆู ุงูุนุถูุงุช (ุงูููุงุฉุ ุงูุฌุฏุงุฑ ุงูุฎูููุ ุงูุบุดุงุก ุงูุฎูููุ ุงูุณูุชูุจูุงุฒูุ ุงูุจูุงุณุชูุฏุงุช ุงูุฎุถุฑุงุกุ ุงููุฌูุฉ).</li>
        <li>ุงูุชูููุฒ ุจูู ุงูุนุถูุงุช ุงูููุฌูุฏุฉ ูู ุงูุฎูุงูุง ุงููุจุงุชูุฉ ููุท ูุจูู ุงููุดุชุฑูุฉ.</li>
        <li>ุชูุณูุฑ ุฏูุฑ ูู ุนุถูุฉ ูู ุจูุงุก ุงูุฎููุฉ ุญูุฉ ูุฃุฏุงุฆูุง ููุธุงุฆููุง.</li>
        <li>ุชูุธูู ุงููุตุทูุญุงุช ุงูุนูููุฉ ุงููุฑุชุจุทุฉ ุจุงูุนุถูุงุช ุจุฏูุฉ.</li>"""

# ุจูู ุงูุฃุณุฆูุฉ ุงูุฌุฏูุฏ ููุฏุฑุณ 1-3 - 20 ุณุคุงู ููุธู ูู 5 ูุฌููุนุงุช
new_questions = [
    # ุงููุฌููุนุฉ ุงูุฃููู: ุงูููุงุฉ ูุงูุบุดุงุก (4 ุฃุณุฆูุฉ)
    {"q": "ุฃู ูู ุงูุนุถูุงุช ุงูุชุงููุฉ ูุญุชูู ุนูู ุงููุงุฏุฉ ุงููุฑุงุซูุฉ DNAุ", "c": ["ุงูุบุดุงุก ุงูุฎููู", "ุงูุฌุฏุงุฑ ุงูุฎููู", "ุงูููุงุฉ", "ุงูุณูุชูุจูุงุฒู"], "a": 2},
    {"q": "ุฃู ูู ุงูุนุถูุงุช ุงูุชุงููุฉ ูุชุญูู ุจูุฑูุฑ ุงูููุงุฏ ูู ูุฅูู ุงูุฎููุฉุ", "c": ["ุงูุณูุชูุจูุงุฒู", "ุงูุบุดุงุก ุงูุฎููู", "ุงูููุงุฉ", "ุงููุฌูุฉ"], "a": 1},
    {"q": "ุงูุบุดุงุก ุงูุฎููู ูุชููุฒ ุจุฃูู:", "c": ["ุตูุจ ุฌุฏูุง", "ูููุฐ ููููุง", "ุดุจู ูููุฐ", "ุบูุฑ ููุฌูุฏ ูู ุงููุจุงุช"], "a": 2},
    {"q": "ุงูุณูุชูุจูุงุฒู ูู:", "c": ["ูุงุฏุฉ ุณุงุฆูุฉ ุชุญุฏุซ ูููุง ุงูุชูุงุนูุงุช", "ุฌุฏุงุฑ ุตูุจ", "ููุงุฉ ูุฑูุฒูุฉ", "ุบุดุงุก ูุฒุฏูุฌ"], "a": 0},
    
    # ุงููุฌููุนุฉ ุงูุซุงููุฉ: ุงูุฌุฏุงุฑ ูุงููุฌูุฉ (4 ุฃุณุฆูุฉ)
    {"q": "ุงูุฌุฏุงุฑ ุงูุฎููู ููุฌุฏ ูู:", "c": ["ุฌููุน ุงูุฎูุงูุง ุงูุญูุฉ", "ุงูุฎูุงูุง ุงูุญููุงููุฉ ููุท", "ุงูุฎูุงูุง ุงููุจุงุชูุฉ ููุท", "ุงูุจูุชูุฑูุง ููุท"], "a": 2},
    {"q": "ุงูุฌุฏุงุฑ ุงูุฎููู ูููููู ุฃุณุงุณูุง ูู:", "c": ["ุงููุดุง", "ุงูุณููููุฒ", "ุงูุฏููู", "ุงูุจุฑูุชูู"], "a": 1},
    {"q": "ุงููุฌูุฉ ูู ุงูุฎููุฉ ุงููุจุงุชูุฉ:", "c": ["ุตุบูุฑุฉ ุงูุญุฌู", "ูุจูุฑุฉ ุชุญุชูู ุนูู ุนุตุงุฑุฉ", "ุบุงุฆุจุฉ", "ููุชูุฆุฉ ุจุงูููุงุก"], "a": 1},
    {"q": "ูุธููุฉ ุงููุฌูุฉ ุงูุฑุฆูุณุฉ ูู:", "c": ["ุฅูุชุงุฌ ุงูุจุฑูุชูู", "ุชุฎุฒูู ุงููุงุก ูุงูููุงุฏ", "ุงูุชุญูู ุจุงููุดุงุท", "ุงูุชูุซูู ุงูุถูุฆู"], "a": 1},
    
    # ุงููุฌููุนุฉ ุงูุซุงูุซุฉ: ุงูุจูุงุณุชูุฏุงุช ูุงูุนุถูุงุช ุงูุฎุงุตุฉ (4 ุฃุณุฆูุฉ)
    {"q": "ุงูุจูุงุณุชูุฏุงุช ุงูุฎุถุฑุงุก ุชูุฌุฏ ูู:", "c": ["ุงูุฎูุงูุง ุงูุญููุงููุฉ", "ุงูุฎูุงูุง ุงููุจุงุชูุฉ", "ุฌููุน ุงููุงุฆูุงุช", "ุงููุฌูุงุช"], "a": 1},
    {"q": "ูุง ูุธููุฉ ุงูุจูุงุณุชูุฏุงุช ุงูุฎุถุฑุงุกุ", "c": ["ุงูุชููุณ", "ุงูุจูุงุก ุงูุถูุฆู", "ุงูุชุฎุฒูู", "ุงูุฅุฎุฑุงุฌ"], "a": 1},
    {"q": "ุงูุนุถูุฉ ุงูุชู ูุง ุชูุฌุฏ ุฃุจุฏูุง ูู ุงูุฎูุงูุง ุงูุญููุงููุฉ ูู:", "c": ["ุงูููุงุฉ", "ุงูุจูุงุณุชูุฏุงุช", "ุงูุบุดุงุก", "ุงูุณูุชูุจูุงุฒู"], "a": 1},
    {"q": "ูุง ุงูุนุถูุฉ ุงูุชู ุชููุฑ ููุฎููุฉ ุงูุทุงูุฉ ุนู ุทุฑูู ุงูุชููุณุ", "c": ["ุงูููุชูููุฏุฑูุง", "ุงููุฌูุฉ", "ุงูุฌุฏุงุฑ ุงูุฎููู", "ุงูุจูุงุณุชูุฏุฉ"], "a": 0},
    
    # ุงููุฌููุนุฉ ุงูุฑุงุจุนุฉ: ุงููุฑูู ูุงูุชุทุจููุงุช (4 ุฃุณุฆูุฉ)
    {"q": "ุงูุฎููุฉ ุงูุชู ุชุญุชูู ุนูู ุฌุฏุงุฑ ุฎููู ูุจูุงุณุชูุฏุงุช ููุฌูุฉ ูุจูุฑุฉ ูู:", "c": ["ุญููุงููุฉ", "ูุจุงุชูุฉ", "ุจูุชูุฑูุฉ", "ูุทุฑูุฉ"], "a": 1},
    {"q": "ุฃู ูู ุงูุนุถูุงุช ุงูุชุงููุฉ ููุฌุฏ ูู ูู ูู ุงูุฎููุฉ ุงููุจุงุชูุฉ ูุงูุญููุงููุฉุ", "c": ["ุงูุฌุฏุงุฑ ุงูุฎููู", "ุงูุจูุงุณุชูุฏุงุช", "ุงูููุงุฉ", "ุงููุฌูุฉ ุงููุจูุฑุฉ"], "a": 2},
    {"q": "ุงูุฌุฏุงุฑ ุงูุฎููู ูุณุงุนุฏ ุนูู:", "c": ["ุงูุชุญูู ุจูุฑูุฑ ุงูููุงุฏ", "ุฏุนู ูุญูุงูุฉ ุงูุฎููุฉ", "ุฅูุชุงุฌ ุงูุทุงูุฉ", "ุจูุงุก ุงูุจุฑูุชูู"], "a": 1},
    {"q": "ุงูุณูุชูุจูุงุฒู ูููุตู ุจุฃูู:", "c": ["ูุณูุท ูููู ุงููุฑูููุณููุงุช", "ููุงู ุญุฏูุซ ูุนุธู ุงูุชูุงุนูุงุช ุงูุฃูุถูุฉ", "ุบุดุงุก ูุฒุฏูุฌ ุญูู ุงูููุงุฉ", "ูุฎุฒู ููุนุตุงุฑุฉ"], "a": 1},
    
    # ุงููุฌููุนุฉ ุงูุฎุงูุณุฉ: ุชูููู (4 ุฃุณุฆูุฉ)
    {"q": "ุฃู ููุง ููู ูุนุฏ ูุธููุฉ ููููุงุฉุ", "c": ["ุชูููู ุงูุฌุฏุงุฑ ุงูุฎููู", "ุงูุชุญูู ูู ุงููุดุงุท ุงูุฎููู", "ุงูุจูุงุก ุงูุถูุฆู", "ุชุฎุฒูู ุงููุงุก"], "a": 1},
    {"q": "ุฃู ุชุฑููุจ ุฅุถุงูู ููุฌุฏ ูู ุงููุจุงุช ููููุญู ุงูุตูุงุจุฉุ", "c": ["ุงูุณูุชูุจูุงุฒู", "ุงูุฌุฏุงุฑ ุงูุฎููู", "ุงููุฌูุฉ", "ุงูุบุดุงุก"], "a": 1},
    {"q": "ูุธููุฉ ุงูุบุดุงุก ุงูุฎููู ุงูุฃุณุงุณูุฉ:", "c": ["ุงูุชุฎุฒูู", "ุงูุฅุฎุฑุงุฌ", "ุชูุธูู ูุฑูุฑ ุงูููุงุฏ", "ุชูููู ุงูุนุตุงุฑุฉ"], "a": 2},
    {"q": "ุฌููุน ูุง ููู ุชูุฌุฏ ูู ุงูุฎูุงูุง ุงููุจุงุชูุฉ ุนุฏุง:", "c": ["ุงูุจูุงุณุชูุฏุงุช", "ุงูุฌุฏุงุฑ ุงูุฎููู", "ุงููุฌูุฉ ุงููุจูุฑุฉ", "ุงูุณูุชุฑูููุงุช"], "a": 3}
]

def update_lesson_1_3():
    # ูุฑุงุกุฉ ุงูููู ุงูุญุงูู
    with open(r'c:\Users\ahm7d\Desktop\W\unit-1-cells\lesson-1-3\index.html', 'r', encoding='utf-8') as f:
        content = f.read()
    
    # 1. ุชุญุฏูุซ ุงูุฃูุฏุงู
    objectives_pattern = r'(<ul>\s*)(.*?)(\s*</ul>)'
    objectives_match = re.search(objectives_pattern, content, re.DOTALL)
    if objectives_match:
        content = content.replace(objectives_match.group(0), f'<ul>\n{new_objectives}\n      </ul>')
        print("โ ุชู ุชุญุฏูุซ ุงูุฃูุฏุงู ุจูุฌุงุญ!")
    
    # 2. ุชุญุฏูุซ ุจูู ุงูุฃุณุฆูุฉ
    # ุงูุจุญุซ ุนู ุจุฏุงูุฉ ูุตูููุฉ bank
    bank_pattern = r'(const bank = \[)(.*?)(\];)'
    bank_match = re.search(bank_pattern, content, re.DOTALL)
    
    if bank_match:
        # ุชูููู ุงูุฃุณุฆูุฉ ุงูุฌุฏูุฏุฉ ููุต JavaScript
        questions_js = []
        for i, question in enumerate(new_questions):
            q_text = question['q'].replace('"', '\\"')
            choices = '","'.join([choice.replace('"', '\\"') for choice in question['c']])
            questions_js.append(f'      {{q:"{q_text}", c:["{choices}"], a:{question["a"]}}}')
        
        new_bank_content = ',\n'.join(questions_js)
        new_bank = f'{bank_match.group(1)}\n{new_bank_content}\n    {bank_match.group(3)}'
        
        content = content.replace(bank_match.group(0), new_bank)
        print("โ ุชู ุชุญุฏูุซ ุจูู ุงูุฃุณุฆูุฉ ุจูุฌุงุญ!")
    
    # ูุชุงุจุฉ ุงูููู ุงููุญุฏุซ
    with open(r'c:\Users\ahm7d\Desktop\W\unit-1-cells\lesson-1-3\index.html', 'w', encoding='utf-8') as f:
        f.write(content)
    
    print("๐ ุชู ุชุญุฏูุซ ุงูุฏุฑุณ 1-3 ุจูุฌุงุญ!")
    print("๐ ุงูุฅุญุตุงุฆูุงุช:")
    print(f"   โข ุชู ุชุญุฏูุซ {len(new_objectives.split('<li>'))-1} ุฃูุฏุงู ุชุนููููุฉ")
    print(f"   โข ุชู ุชุญุฏูุซ {len(new_questions)} ุณุคุงู ุชูุงุนูู")
    print("   โข ุงููุฌููุนุฉ ุงูุฃููู: ุงูููุงุฉ ูุงูุบุดุงุก (4 ุฃุณุฆูุฉ)")
    print("   โข ุงููุฌููุนุฉ ุงูุซุงููุฉ: ุงูุฌุฏุงุฑ ูุงููุฌูุฉ (4 ุฃุณุฆูุฉ)")  
    print("   โข ุงููุฌููุนุฉ ุงูุซุงูุซุฉ: ุงูุจูุงุณุชูุฏุงุช ูุงูุนุถูุงุช ุงูุฎุงุตุฉ (4 ุฃุณุฆูุฉ)")
    print("   โข ุงููุฌููุนุฉ ุงูุฑุงุจุนุฉ: ุงููุฑูู ูุงูุชุทุจููุงุช (4 ุฃุณุฆูุฉ)")
    print("   โข ุงููุฌููุนุฉ ุงูุฎุงูุณุฉ: ุชูููู (4 ุฃุณุฆูุฉ)")

if __name__ == "__main__":
    update_lesson_1_3()