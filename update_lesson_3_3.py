#!/usr/bin/env python3
# -*- coding: utf-8 -*-

import re
import os

def update_lesson_3_3():
    """ุชุญุฏูุซ ูุญุชูู ุงูุฏุฑุณ 3-3: ุงูุฅูุฒููุงุช"""
    
    file_path = r"unit-3-biomolecules\lesson-3-3\index.html"
    
    if not os.path.exists(file_path):
        print(f"โ ุงูููู ุบูุฑ ููุฌูุฏ: {file_path}")
        return False
    
    try:
        # ูุฑุงุกุฉ ุงูููู
        with open(file_path, 'r', encoding='utf-8') as file:
            content = file.read()
        
        # ุชุญุฏูุซ ุนููุงู ุงูุฏุฑุณ ููุตูู
        content = re.sub(
            r'<h1>.*?</h1>\s*<p class="lead">.*?</p>',
            '<h1>ุงูุฅูุฒููุงุช</h1>\n      <p class="lead">ุฏุฑุงุณุฉ ุงูุฅูุฒููุงุช ูุนูุงูู ุญูุงุฒุฉ ุญูููุฉ ูุงูุนูุงูู ุงููุคุซุฑุฉ ุนูู ูุดุงุทูุง</p>',
            content,
            flags=re.DOTALL
        )
        
        # ุงูุฃูุฏุงู ุงูุฌุฏูุฏุฉ
        new_objectives = """        <li>ุชุนุฑูู ุงูุฅูุฒููุงุช ุจุฃููุง ุจุฑูุชููุงุช ุชุนูู ูุนูุงูู ุญูุงุฒุฉ ุญูููุฉ (Biological catalysts).</li>
        <li>ุดุฑุญ ุฏูุฑ ุงูุฅูุฒููุงุช ูู ุชุณุฑูุน ุงูุชูุงุนูุงุช ุงูุญูููุฉ ุฏูู ุฃู ุชูุณุชููู.</li>
        <li>ูุตู ุงูุนูุงูุฉ ุจูู ุงูุฅูุฒูู ูุงูุฑููุฒุฉ (Substrate) ูู ุฎูุงู ุงููููุน ุงููุดุท (Active site).</li>
        <li>ุชูุถูุญ ุงูุนูุงูู ุงููุคุซุฑุฉ ุนูู ูุดุงุท ุงูุฅูุฒูู (ุฏุฑุฌุฉ ุงูุญุฑุงุฑุฉุ pHุ ุชุฑููุฒ ุงูุฑููุฒุฉ).</li>
        <li>ุชูุณูุฑ ุธุงูุฑุฉ ุชุซุจูุท ุงูุฅูุฒูู (Denaturation) ุนูุฏ ุชุนุฑุถู ูุญุฑุงุฑุฉ ุนุงููุฉ ุฃู pH ุบูุฑ ููุงุณุจ.</li>
        <li>ุชุทุจูู ุฃูุซูุฉ ุนูู ุงูุฅูุฒููุงุช ูุซู: ุงูุฃูููุงุฒุ ุงูููุจูุฒุ ุงูุจุฑูุชูุฒุ ุงููุงุชุงููุฒ.</li>"""
        
        # ุงุณุชุจุฏุงู ุงูุฃูุฏุงู
        content = re.sub(
            r'<ul>\s*<li>.*?</li>\s*</ul>',
            f'<ul>\n{new_objectives}\n      </ul>',
            content,
            flags=re.DOTALL
        )
        
        # ุงูุฃุณุฆูุฉ ุงูุฌุฏูุฏุฉ ููุณูุฉ ุฅูู 4 ูุฌููุนุงุช
        new_questions = """      {q:"ุงูุฅูุฒููุงุช ุชูุตูู ุจุฃููุง:", c:["ูุฑุจูููุฏุฑุงุช","ุจุฑูุชููุงุช","ุฏููู","ููุชุงูููุงุช"], a:1},
      {q:"ุงููุธููุฉ ุงูุฑุฆูุณุฉ ููุฅูุฒููุงุช ูู:", c:["ุฅูุชุงุฌ ุงูุทุงูุฉ","ุชุณุฑูุน ุงูุชูุงุนูุงุช ุงูููููุงุฆูุฉ","ุชุฎุฒูู ุงูุบุฐุงุก","ููู ุงูุฃูุณุฌูู"], a:1},
      {q:"ุงููููุน ุงููุดุท (Active site) ูู ุงูุฅูุฒูู ูู:", c:["ุงูููุงู ุงูุฐู ูุฑุชุจุท ุจู ุงูุฑููุฒุฉ","ุฌุฒุก ูู ุงูุบุดุงุก ุงูุฎููู","ููุงู ุชุฎุฒูู ุงูุทุงูุฉ","ูุฑุงุบ ูู ุงูุฎููุฉ"], a:0},
      {q:"ุงูุนูุงูุฉ ุจูู ุงูุฅูุฒูู ูุงูุฑููุฒุฉ ุชุดุจู:", c:["ุงูููุชุงุญ ูุงูููู","ุงููุณุทุฑุฉ ูุงููุฑู","ุงููุชุงุจ ูุงูููู","ุงูุนุฌูุฉ ูุงููุญุฑู"], a:0},
      {q:"ุงูุฅูุฒูู ูุง ููุณุชููู ูู ุงูุชูุงุนู ูุฃูู:", c:["ูุชุบูุฑ ุดููู","ูุนูู ูุนุงูู ุญูุงุฒ","ูุฎุชูู ุจุนุฏ ุงูุงุณุชุฎุฏุงู","ูุชุญูู ุณุฑูุนูุง"], a:1},
      {q:"ุงูุฅูุฒูู ุงูุฐู ูุญูู ุงููุดุง ุฅูู ุฌููููุฒ ูู:", c:["ุงูุจุฑูุชูุฒ","ุงูุฃูููุงุฒ","ุงูููุจูุฒ","ุงููุงุชุงููุฒ"], a:1},
      {q:"ุงูุฅูุฒูู ุงูุฐู ูุญูู ุงูุฏููู ูู:", c:["ุงูููุจูุฒ","ุงูุฃูููุงุฒ","ุงูุจุฑูุชูุฒ","ุงููุงูุชุงุฒ"], a:0},
      {q:"ุงูุฅูุฒูู ุงูุฐู ูุญูู ุงูุจุฑูุชููุงุช ุฅูู ุฃุญูุงุถ ุฃููููุฉ ูู:", c:["ุงูุจุฑูุชูุฒ","ุงูุฃูููุงุฒ","ุงูููุจูุฒ","ุงููุงุชุงููุฒ"], a:0},
      {q:"ุงูุฅูุฒูู ุงูุฐู ูุญูู ููู ุฃูุณูุฏ ุงูููุฏุฑูุฌูู (H2O2) ุฅูู ูุงุก ูุฃูุณุฌูู ูู:", c:["ุงููุงุชุงููุฒ","ุงูุจุฑูุชูุฒ","ุงูุฃูููุงุฒ","ุงูููุจูุฒ"], a:0},
      {q:"ุงูุฃูููุงุฒ ููุฌุฏ ุฃุณุงุณูุง ูู:", c:["ุงูุนุตุงุฑุฉ ุงูุตูุฑุงููุฉ","ุงููุนุงุจ","ุงููุนุฏุฉ","ุงููุจุฏ"], a:1},
      {q:"ุงูุฅูุฒูู ูุนูู ุจููุงุกุฉ ุนูุฏ:", c:["ุฃู ุฏุฑุฌุฉ ุญุฑุงุฑุฉ","ุฏุฑุฌุฉ ุงูุญุฑุงุฑุฉ ุงููุซูู","ุฏุฑุฌุงุช ุงูุญุฑุงุฑุฉ ุงูุนุงููุฉ ุฌุฏูุง","ุฏุฑุฌุงุช ุงูุญุฑุงุฑุฉ ุงูููุฎูุถุฉ ุฌุฏูุง"], a:1},
      {q:"ุนูุฏ ุฑูุน ุฏุฑุฌุฉ ุงูุญุฑุงุฑุฉ ููู ุงูุญุฏ ุงูุฃูุซู ููุฅูุฒูู ูุญุฏุซ:", c:["ุฒูุงุฏุฉ ูู ุงููุดุงุท","ุชุซุจูุท (Denaturation)","ุชููู ูุคูุช ุซู ูุนูุฏ","ุนุฏู ุชุฃุซุฑ"], a:1},
      {q:"ุงูุฅูุฒููุงุช ุชุชุฃุซุฑ ุฃูุถูุง ุจู:", c:["ุดุฏุฉ ุงูุถูุก","ูููุฉ pH","ุงูุถุบุท ุงูุฌูู ููุท","ุญุฌู ุงูุฎููุฉ"], a:1},
      {q:"ุฅุฐุง ูุงูุช ูููุฉ pH ุบูุฑ ููุงุณุจุฉ ููุฅูุฒูู ูุฅู:", c:["ูุชุถุงุนู ูุดุงุทู","ูุชููู ูุดุงุทู","ูุจูู ููุง ูู","ูุชุญูู ุฅูู ููุชุงููู"], a:1},
      {q:"ุฅูุฒูู ุงูุจูุจุณูู ูุนูู ุจุดูู ุฃูุถู ูู:", c:["ูุณุท ุญูุถู","ูุณุท ูุงุนุฏู","ูุณุท ูุชุนุงุฏู","ูุณุท ุฌุงู"], a:0},
      {q:"ุงูุฅูุฒููุงุช ุชุฎุชูู ุนู ุงูุนูุงูู ุบูุฑ ุงูุญูุฉ ูู ุฃููุง:", c:["ูุง ุชุชุฃุซุฑ ุจุงูุญุฑุงุฑุฉ","ุจุฑูุชููุงุช ุญูุฉ","ุชูุณุชููู ุฃุซูุงุก ุงูุชูุงุนู","ูุง ุชุคุซุฑ ุนูู ุณุฑุนุฉ ุงูุชูุงุนู"], a:1},
      {q:"ุฌููุน ุงูุฅูุฒููุงุช ุงูุชุงููุฉ ููุฌูุฏุฉ ูู ุงูุฌูุงุฒ ุงููุถูู ุนุฏุง:", c:["ุงูุฃูููุงุฒ","ุงูุจุฑูุชูุฒ","ุงููุงุชุงููุฒ","ุงูููุจูุฒ"], a:2},
      {q:"ุชุซุจูุท ุงูุฅูุฒูู (Denaturation) ูุนูู:", c:["ุฒูุงุฏุฉ ุณุฑุนุฉ ุงูุชูุงุนู","ููุฏุงู ุดููู ููุธููุชู","ุชุญููู ุฅูู ุจุฑูุชูู ุฌุฏูุฏ","ุชููู ุงูุฑููุฒุฉ ุนู ุงูุงุฑุชุจุงุท"], a:1},
      {q:"ุนูุฏ ุฏุฑุฌุฉ ุญุฑุงุฑุฉ ููุฎูุถุฉ ุฌุฏูุง:", c:["ูุชููู ูุดุงุท ุงูุฅูุฒูู ูุคูุชูุง","ูุชุญูู ุงูุฅูุฒูู","ูุซุจุช ูุดุงุทู","ูุชุญูู ุฅูู ููุชุงููู"], a:0},
      {q:"ุฃูููุฉ ุงูุฅูุฒููุงุช ูููุงุฆูุงุช ุงูุญูุฉ ุชููู ูู ุฃููุง:", c:["ุชุฒูุฏ ุงูุทุงูุฉ ุงููุฎุฒูุฉ","ุชุณูู ุงูุชูุงุนูุงุช ุงูุญูููุฉ ุจุณุฑุนุฉ ูููุงุกุฉ","ุชูุณุชููู ููุตุฏุฑ ุบุฐุงุก","ุชุนูู ููุถุงุฏุงุช ุญูููุฉ"], a:1}"""
        
        # ุงุณุชุจุฏุงู ุจูู ุงูุฃุณุฆูุฉ
        content = re.sub(
            r'const bank = \[\s*\{q:.*?\}\s*\];',
            f'const bank = [\n{new_questions}\n    ];',
            content,
            flags=re.DOTALL
        )
        
        # ุญูุธ ุงูููู ุงููุญุฏุซ
        with open(file_path, 'w', encoding='utf-8') as file:
            file.write(content)
        
        print("๐ ุชู ุชุญุฏูุซ ุงูุฏุฑุณ 3-3 ุจูุฌุงุญ!")
        print("๐ ุฅุญุตุงุฆูุงุช ุงูุชุญุฏูุซ:")
        print("   โ ุงูุนููุงู: ุงูุฅูุฒููุงุช")
        print("   โ ุงูุฃูุฏุงู: 6 ุฃูุฏุงู ุฌุฏูุฏุฉ")
        print("   โ ุงูุฃุณุฆูุฉ: 20 ุณุคุงู ููุธู ูู 4 ูุฌููุนุงุช:")
        print("      - ุงููุฌููุนุฉ ุงูุฃููู: ุงูููุงููู ุงูุฃุณุงุณูุฉ (5 ุฃุณุฆูุฉ)")
        print("      - ุงููุฌููุนุฉ ุงูุซุงููุฉ: ุฃูุซูุฉ ุนูู ุงูุฅูุฒููุงุช (5 ุฃุณุฆูุฉ)")
        print("      - ุงููุฌููุนุฉ ุงูุซุงูุซุฉ: ุงูุนูุงูู ุงููุคุซุฑุฉ (5 ุฃุณุฆูุฉ)")
        print("      - ุงููุฌููุนุฉ ุงูุฑุงุจุนุฉ: ุงูุชุทุจููุงุช ูุงูุชูููู (5 ุฃุณุฆูุฉ)")
        
        return True
        
    except Exception as e:
        print(f"โ ุฎุทุฃ ูู ุชุญุฏูุซ ุงูููู: {e}")
        return False

if __name__ == "__main__":
    update_lesson_3_3()