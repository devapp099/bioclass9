#!/usr/bin/env python3
# -*- coding: utf-8 -*-

import re
import os

def update_lesson_5_1():
    """ุชุญุฏูุซ ูุญุชูู ุงูุฏุฑุณ 5-1: ุงูุชููุณ"""
    
    file_path = r"unit-5-respiration\lesson-5-1\index.html"
    
    if not os.path.exists(file_path):
        print(f"โ ุงูููู ุบูุฑ ููุฌูุฏ: {file_path}")
        return False
    
    try:
        # ูุฑุงุกุฉ ุงูููู
        with open(file_path, 'r', encoding='utf-8') as file:
            content = file.read()
        
        # ุชุญุฏูุซ ุนููุงู ุงูุฏุฑุณ ููุตูู
        content = re.sub(
            r'<h1>.*?</h1>\s*<p class="lead">.*?</p>',
            '<h1>ุงูุชููุณ</h1>\n      <p class="lead">ุฏุฑุงุณุฉ ุนูููุฉ ุงูุชููุณ ุงูุฎููู ูุฅุทูุงู ุงูุทุงูุฉ ูู ุงูุฌููููุฒ</p>',
            content,
            flags=re.DOTALL
        )
        
        # ุงูุฃูุฏุงู ุงูุฌุฏูุฏุฉ
        new_objectives = """        <li>ุชุนุฑูู ุงูุชููุณ ุจุงุนุชุจุงุฑู ุนูููุฉ ุญูููุฉ ูุฅุทูุงู ุงูุทุงูุฉ ูู ุงูุฌููููุฒ.</li>
        <li>ุงูุชูููุฒ ุจูู ุงูุชููุณ ุงูููุงุฆู ูุงูุชููุณ ุงููุงููุงุฆู.</li>
        <li>ูุชุงุจุฉ ูุนุงุฏูุฉ ุงูุชููุณ ุงูููุงุฆู (ุงูุฌููููุฒ + ุงูุฃูุณุฌูู โ ุซุงูู ุฃูุณูุฏ ุงููุฑุจูู + ูุงุก + ุทุงูุฉ).</li>
        <li>ุฐูุฑ ูุนุงุฏูุฉ ุงูุชููุณ ุงููุงููุงุฆู ูู ุงูุฅูุณุงู (ุงูุฌููููุฒ โ ุญูุถ ูุงูุชูู + ุทุงูุฉ ููููุฉ).</li>
        <li>ุชูุถูุญ ุฃูููุฉ ุงูุทุงูุฉ ุงููุงุชุฌุฉ ูู ุงูุชููุณ ูู ุงูุฃูุดุทุฉ ุงูุญูููุฉ (ุงูููู โ ุงูุญุฑูุฉ โ ููู ุงูููุงุฏ โ ุงููุญุงูุธุฉ ุนูู ุญุฑุงุฑุฉ ุงูุฌุณู).</li>
        <li>ุฅุฏุฑุงู ุฃู ุงูุชููุณ ูุญุฏุซ ูู ุฌููุน ุงูุฎูุงูุง ุงูุญูุฉ ุจุงุณุชูุฑุงุฑ.</li>"""
        
        # ุงุณุชุจุฏุงู ุงูุฃูุฏุงู
        content = re.sub(
            r'<ul>\s*<li>.*?</li>\s*</ul>',
            f'<ul>\n{new_objectives}\n      </ul>',
            content,
            flags=re.DOTALL
        )
        
        # ุงูุฃุณุฆูุฉ ุงูุฌุฏูุฏุฉ ููุณูุฉ ุฅูู 4 ูุฌููุนุงุช
        new_questions = """      {q:"ุนูููุฉ ุงูุชููุณ ูู:", c:["ุฅุฏุฎุงู ุงูููุงุก ุฅูู ุงูุฑุฆุชูู ููุท","ุฅุทูุงู ุงูุทุงูุฉ ูู ุงูุบุฐุงุก ุฏุงุฎู ุงูุฎูุงูุง","ุญุฑูุฉ ุงูุฃูุณุฌูู ูู ุงูุฏู","ุชุจุงุฏู ุงูุบุงุฒุงุช ุนุจุฑ ุงูุฌูุฏ"], a:1},
      {q:"ุงููุตุฏุฑ ุงูุฑุฆูุณ ููุทุงูุฉ ูู ุงูุชููุณ ูู:", c:["ุงูุจุฑูุชูู","ุงูุฏููู","ุงูุฌููููุฒ","ุงูุฃููุงู"], a:2},
      {q:"ุงูุชููุณ ูุญุฏุซ ูู:", c:["ุงูุฌูุงุฒ ุงูุฏูุฑู","ุฌููุน ุงูุฎูุงูุง","ุงูุฑุฆุชูู ููุท","ุงูุฏู"], a:1},
      {q:"ุงูุทุงูุฉ ุงููุงุชุฌุฉ ูู ุงูุชููุณ ุชูุฎุฒู ูู ุตูุฑุฉ:", c:["ูุงุก","ุจุฑูุชูู","ATP","ุฃูุณุฌูู"], a:2},
      {q:"ุฃู ููุง ููู ููุนุฏ ูู ุงุณุชุฎุฏุงูุงุช ุงูุทุงูุฉ ูู ุงูุฌุณูุ", c:["ููู ุงูููุงุฏ","ุฅูุชุงุฌ ุซุงูู ุฃูุณูุฏ ุงููุฑุจูู ููุท","ุงูุชุตุงุต ุงูุถูุก","ุชูููู ุงูุฃููุงู ุงูุบุฐุงุฆูุฉ"], a:0},
      {q:"ุงููุนุงุฏูุฉ ุงูุนุงูุฉ ููุชููุณ ุงูููุงุฆู ูู:", c:["ุฌููููุฒ + ุฃูุณุฌูู โ ูุงุก + ุซุงูู ุฃูุณูุฏ ุงููุฑุจูู + ุทุงูุฉ","ุฌููููุฒ โ ูุญูู + ุทุงูุฉ","ุจุฑูุชูู + ูุงุก โ ุทุงูุฉ","ุฏููู + ุจุฑูุชูู โ ุทุงูุฉ"], a:0},
      {q:"ุงูุชููุณ ุงูููุงุฆู ูุชููุฒ ุจู:", c:["ุฅูุชุงุฌ ุทุงูุฉ ููููุฉ","ุฅูุชุงุฌ ุทุงูุฉ ูุจูุฑุฉ","ุนุฏู ุงุณุชุฎุฏุงู ุงูุฃูุณุฌูู","ุฅูุชุงุฌ ูุญูู"], a:1},
      {q:"ููุงุชุฌ ุงูุชููุณ ุงูููุงุฆู ูู:", c:["ูุญูู + ุทุงูุฉ","ุญูุถ ูุงูุชูู + ุทุงูุฉ","ูุงุก + ุซุงูู ุฃูุณูุฏ ุงููุฑุจูู + ุทุงูุฉ","ุฏููู + ุจุฑูุชูู"], a:2},
      {q:"ุฃูุซุฑ ููุงุกุฉ ูู ุฅูุชุงุฌ ุงูุทุงูุฉ:", c:["ุงูุชููุณ ุงููุงููุงุฆู","ุงูุชููุณ ุงูููุงุฆู","ุงูุชุฎููุฑ","ุงูุจูุงุก ุงูุถูุฆู"], a:1},
      {q:"ุงูุชููุณ ุงูููุงุฆู ูุญุฏุซ ูู ุนุถูุฉ:", c:["ุงูุจูุงุณุชูุฏุฉ","ุงูููุชููููุฏุฑูุง","ุงูููุงุฉ","ุงูุฑูุจูุณูู"], a:1},
      {q:"ูุญุฏุซ ุงูุชููุณ ุงููุงููุงุฆู ุนูุฏ:", c:["ููุต ุงูุฃูุณุฌูู","ุฒูุงุฏุฉ ุงููุงุก","ููุฑุฉ ุงูุจุฑูุชูู","ุงุฑุชูุงุน ุงููุงูุณููู"], a:0},
      {q:"ุงููุนุงุฏูุฉ ุงูุนุงูุฉ ููุชููุณ ุงููุงููุงุฆู ูู ุงูุฅูุณุงู:", c:["ุฌููููุฒ โ ุญูุถ ูุงูุชูู + ุทุงูุฉ","ุฌููููุฒ + ุฃูุณุฌูู โ ูุงุก + ุทุงูุฉ","ุจุฑูุชูู + ูุงุก โ ุทุงูุฉ","ุฏููู โ ูุญูู"], a:0},
      {q:"ุฃุญุฏ ุนููุจ ุงูุชููุณ ุงููุงููุงุฆู ุฃูู:", c:["ูุญุชุงุฌ ุฅูู ุฃูุณุฌูู","ููุชุฌ ุทุงูุฉ ุฃูู","ูุง ูุนุทู ุฃู ุทุงูุฉ","ููุชุฌ ูุงุก ุฒุงุฆุฏ"], a:1},
      {q:"ูู ูุชุงุฆุฌ ุชุฑุงูู ุญูุถ ุงููุงูุชูู:", c:["ุชููุต ุงูุนุถูุงุช ูุฅุฑูุงููุง","ุฒูุงุฏุฉ ุงูุทุงูุฉ","ุฒูุงุฏุฉ ุงูุฃูุณุฌูู","ููู ุฃุณุฑุน"], a:0},
      {q:"ุฃู ููุง ููู ูุซุงู ุนูู ุงูุชููุณ ุงููุงููุงุฆูุ", c:["ุงูุฌุฑู ููุณุงูุงุช ุทูููุฉ ุจุจุทุก","ุงูุชูุฑููุงุช ุงูุนูููุฉ ูุซู ุงูุนุฏู ุงูุณุฑูุน","ุงูููู","ุงูุชููุณ ุฃุซูุงุก ุงูุฑุงุญุฉ"], a:1},
      {q:"ุงูุทุงูุฉ ุงููุงุชุฌุฉ ูู ุงูุชููุณ ุชูุณุชุฎุฏู ูู:", c:["ุงููุณุงู ุงูุฎูุงูุง","ุชูููู ุงููุงุก ููุท","ุทุฑุญ ุงููุถูุงุช","ุงูุชุตุงุต ุงูุถูุก"], a:0},
      {q:"ูู ุฃูุฌู ุงูุดุจู ุจูู ุงูุชููุณ ุงูููุงุฆู ูุงููุงููุงุฆู:", c:["ููุงููุง ููุชุฌ ุทุงูุฉ","ููุงููุง ูุญุชุงุฌ ุฃูุณุฌูู","ููุงููุง ููุชุฌ ูุงุก","ููุงููุง ูุชู ูู ุงูููุงุฉ"], a:0},
      {q:"ุนูุฏ ุงูููุงู ุจูุฌููุฏ ุนุถูู ุดุฏูุฏุ ุงูุฌุณู ูุนุชูุฏ ุนูู:", c:["ุงูุชููุณ ุงูููุงุฆู ููุท","ุงูุชููุณ ุงููุงููุงุฆู ุฌุฒุฆููุง","ุนุฏู ุงูุชููุณ","ุงูุจูุงุก ุงูุถูุฆู"], a:1},
      {q:"ูููุฉ ุงูุทุงูุฉ ุงููุงุชุฌุฉ ูู ุฌุฒูุก ูุงุญุฏ ูู ุงูุฌููููุฒ ูู ุงูุชููุณ ุงูููุงุฆู ุชูุงุฑุจ:", c:["2 ATP","36 โ 38 ATP","5 ATP","100 ATP"], a:1},
      {q:"ุนูุฏ ุชููู ุงูุชููุณ ูู ุงูุฎููุฉ ูุฅู:", c:["ุชุณุชูุฑ ุงูุนูููุงุช ุงูุญูููุฉ","ุชุชููู ุงูุญูุงุฉ","ูุฒุฏุงุฏ ุฅูุชุงุฌ ุงูุทุงูุฉ","ูุฒุฏุงุฏ ุงูุฌููููุฒ"], a:1}"""
        
        # ุงุณุชุจุฏุงู ุจูู ุงูุฃุณุฆูุฉ
        content = re.sub(
            r'const bank = \[\s*\{q:.*?\}\s*\];',
            f'const bank = [\n{new_questions}\n    ];',
            content,
            flags=re.DOTALL
        )
        
        # ุญูุธ ุงูููู ุงููุญุฏุซ
        with open(file_path, 'w', encoding='utf-8') as file:
            file.write(content)
        
        print("๐ ุชู ุชุญุฏูุซ ุงูุฏุฑุณ 5-1 ุจูุฌุงุญ!")
        print("๐ ุฅุญุตุงุฆูุงุช ุงูุชุญุฏูุซ:")
        print("   โ ุงูุนููุงู: ุงูุชููุณ")
        print("   โ ุงูุฃูุฏุงู: 6 ุฃูุฏุงู ุฌุฏูุฏุฉ")
        print("   โ ุงูุฃุณุฆูุฉ: 20 ุณุคุงู ููุธู ูู 4 ูุฌููุนุงุช:")
        print("      - ุงููุฌููุนุฉ ุงูุฃููู: ุงูููุงููู ุงูุฃุณุงุณูุฉ (5 ุฃุณุฆูุฉ)")
        print("      - ุงููุฌููุนุฉ ุงูุซุงููุฉ: ุงูุชููุณ ุงูููุงุฆู (5 ุฃุณุฆูุฉ)")
        print("      - ุงููุฌููุนุฉ ุงูุซุงูุซุฉ: ุงูุชููุณ ุงููุงููุงุฆู (5 ุฃุณุฆูุฉ)")
        print("      - ุงููุฌููุนุฉ ุงูุฑุงุจุนุฉ: ุงูุชุทุจููุงุช (5 ุฃุณุฆูุฉ)")
        
        return True
        
    except Exception as e:
        print(f"โ ุฎุทุฃ ูู ุชุญุฏูุซ ุงูููู: {e}")
        return False

if __name__ == "__main__":
    update_lesson_5_1()