#!/usr/bin/env python3
# -*- coding: utf-8 -*-

import re
import os

def update_lesson_2_3():
    """ุชุญุฏูุซ ูุญุชูู ุงูุฏุฑุณ 2-3: ุชุทุจููุงุช ุงูุฃุณููุฒูุฉ"""
    
    file_path = r"unit-2-transport\lesson-2-3\index.html"
    
    if not os.path.exists(file_path):
        print(f"โ ุงูููู ุบูุฑ ููุฌูุฏ: {file_path}")
        return False
    
    try:
        # ูุฑุงุกุฉ ุงูููู
        with open(file_path, 'r', encoding='utf-8') as file:
            content = file.read()
        
        # ุชุญุฏูุซ ุนููุงู ุงูุฏุฑุณ ููุตูู
        content = re.sub(
            r'<h1>.*?</h1>\s*<p class="lead">.*?</p>',
            '<h1>ุชุทุจููุงุช ุงูุฃุณููุฒูุฉ</h1>\n      <p class="lead">ุชุฌุงุฑุจ ุนูููุฉ ูุชุทุจููุงุช ุญูุงุชูุฉ ููุฃุณููุฒูุฉ ูู ุงููุจุงุชุงุช</p>',
            content,
            flags=re.DOTALL
        )
        
        # ุงูุฃูุฏุงู ุงูุฌุฏูุฏุฉ
        new_objectives = """        <li>ุชูุณูุฑ ุงูุชุบูุฑุงุช ุงูุชู ุชุทุฑุฃ ุนูู ุงูุฎููุฉ ุงููุจุงุชูุฉ ุนูุฏ ูุถุนูุง ูู ูุญุงููู ูุฎุชููุฉ ุงูุชุฑููุฒ (ูุงุก ูููุ ูุญููู ูุชุนุงุฏูุ ูุญููู ูุฑูุฒ).</li>
        <li>ูุตู ุญุงูุงุช ุงูุฎููุฉ: ููุชูุฆุฉ Turgidุ ูุชุฑููุฉ Flaccidุ ูุจูุฒูุฉ Plasmolysed.</li>
        <li>ุฑุจุท ุงูุฃุณููุฒูุฉ ุจุธุงูุฑุฉ ุงูุฐุจูู ูู ุงููุจุงุชุงุช.</li>
        <li>ุฅุฌุฑุงุก ุชุฌุงุฑุจ ุนูููุฉ (ูุซู ุชุฌุฑุจุฉ ุดุฑุงุฆุญ ุงูุจุทุงุทุณ ูู ูุญุงููู ูุฎุชููุฉ) ูุชูุถูุญ ุชุฃุซูุฑ ุงูุฃุณููุฒูุฉ.</li>
        <li>ุชูุถูุญ ุฏูุฑ ุงูุถุบุท ุงูุงูุชูุงุฆู (Turgor pressure) ูู ุจูุงุก ุงููุจุงุช ูุงุฆููุง ูุตูุจูุง.</li>
        <li>ุงุณุชูุชุงุฌ ุงูุนูุงูุฉ ุจูู ุชุฑููุฒ ุงููุญููู ูุญุฑูุฉ ุงููุงุก ุนุจุฑ ุงูุบุดุงุก ุดุจู ุงููููุฐ.</li>"""
        
        # ุงุณุชุจุฏุงู ุงูุฃูุฏุงู
        content = re.sub(
            r'<ul>\s*<li>.*?</li>\s*</ul>',
            f'<ul>\n{new_objectives}\n      </ul>',
            content,
            flags=re.DOTALL
        )
        
        # ุงูุฃุณุฆูุฉ ุงูุฌุฏูุฏุฉ ููุณูุฉ ุฅูู 4 ูุฌููุนุงุช
        new_questions = """      {q:"ุนูุฏูุง ุชูุถุน ุฎููุฉ ูุจุงุชูุฉ ูู ูุงุก ููู ุชุตุจุญ:", c:["ูุจูุฒูุฉ","ููุชูุฆุฉ (Turgid)","ูุชุฑููุฉ","ููุชุฉ"], a:1},
      {q:"ุงูุฎููุฉ ุงูุชู ุชููุฏ ูุงุกูุง ูุชูููุด ุจุนูุฏูุง ุนู ุงูุฌุฏุงุฑ ุงูุฎููู ุชูุตู ุจุฃููุง:", c:["ููุชูุฆุฉ","ูุจูุฒูุฉ (Plasmolysed)","ูุชุฑููุฉ","ุทุจูุนูุฉ"], a:1},
      {q:"ุงูุฎููุฉ ุงููุชุฑููุฉ (Flaccid) ุชุนูู:", c:["ููุฏุช ุจุนุถ ุงููุงุก ุฏูู ุฃู ุชููุตู ุนู ุงูุฌุฏุงุฑ","ููุฏุช ูู ุงููุงุก","ุงูุชูุฃุช ุฅูู ุฃูุตู ุญุฏ","ูุงุชุช"], a:0},
      {q:"ุงูุถุบุท ุงููุงุชุฌ ุนู ุงูุชูุงุก ุงูุฎููุฉ ุจุงููุงุก ูู:", c:["ุงูุถุบุท ุงูุฌูู","ุถุบุท ุงูุงูุชูุงุก (Turgor pressure)","ุงูุถุบุท ุงูุฃุณููุฒู","ุถุบุท ุงูุฏู"], a:1},
      {q:"ุงูุฐุจูู ูู ุงููุจุงุช ูุญุฏุซ ูุชูุฌุฉ:", c:["ุฒูุงุฏุฉ ุงูุจูุงุก ุงูุถูุฆู","ููุฏุงู ุงููุงุก ุจุงูุฃุณููุฒูุฉ","ููุต ุซุงูู ุฃูุณูุฏ ุงููุฑุจูู","ุฒูุงุฏุฉ ุงูุฃูุณุฌูู"], a:1},
      {q:"ุนูุฏ ูุถุน ุดุฑูุญุฉ ุจุทุงุทุณ ูู ูุงุก ููู:", c:["ุชููุฏ ูุชูุชูุง","ุชุฒุฏุงุฏ ูุชูุชูุง","ุชุจูู ููุง ูู","ุชุชุจูุฒู"], a:1},
      {q:"ุนูุฏ ูุถุน ุดุฑูุญุฉ ุจุทุงุทุณ ูู ูุญููู ูุฑูุฒ:", c:["ุชูุชุณุจ ูุงุกู","ุชููุฏ ูุงุกูุง ูุชูู ูุชูุชูุง","ูุฒุฏุงุฏ ุทูููุง","ูุง ูุชุบูุฑ ุญุฌููุง"], a:1},
      {q:"ุงูุณุจุจ ูู ุชุบูุฑ ูุชูุฉ ุงูุจุทุงุทุณ ุนูุฏ ูุถุนูุง ูู ูุญุงููู ูุฎุชููุฉ ูู:", c:["ุงูููู ุงููุดุท","ุงูุฃุณููุฒูุฉ","ุงูุงูุชุดุงุฑ ุงูุจุณูุท","ุงูุชูุซูู ุงูุถูุฆู"], a:1},
      {q:"ุฅุฐุง ุจููุช ุดุฑูุญุฉ ุงูุจุทุงุทุณ ููุง ูู ุนูุฏ ูุถุนูุง ูู ูุญููู ูุงุ ููุฐุง ูุนูู ุฃู ุงููุญููู:", c:["ูุฑูุฒ ุฌุฏูุง","ููุฎูุถ ุงูุชุฑููุฒ","ูุชุณุงูู ุงูุชุฑููุฒ (Isotonic)","ูุง ูุญุชูู ูุงุก"], a:2},
      {q:"ุงูุชุฌุฑุจุฉ ุจุงุณุชุฎุฏุงู ุงูุจุทุงุทุณ ุชูุถุญ ุฃู:", c:["ุงูุฃููุงุญ ุชูุชูู ุจุณูููุฉ","ุงููุงุก ูุชุญุฑู ุญุณุจ ูุฑู ุงูุชุฑููุฒ","ุงูุจุฑูุชูู ููุฑ ุจุญุฑูุฉ","ุงูุบุดุงุก ูููุฐ ููููุง"], a:1},
      {q:"ุฃู ุญุงูุฉ ูู ุงูุชุงููุฉ ุชุณุงุนุฏ ุงููุจุงุช ุนูู ุงูุจูุงุก ูุงุฆููุง ูุตูุจูุงุ", c:["ุงูุจูุฒูุฉ","ุงูุงูุชูุงุก (Turgidity)","ุงูุชุฑููู","ููุช ุงูุฎูุงูุง"], a:1},
      {q:"ุนูุฏ ููุฏุงู ุงูุถุบุท ุงูุงูุชูุงุฆู ูู ุงูุฎูุงูุง ุงููุจุงุชูุฉ ูุญุฏุซ:", c:["ุชุตูุจ ุงููุจุงุช","ุฐุจูู ุงููุจุงุช","ุฒูุงุฏุฉ ุงูููู","ุงูุชุตุงุต ุฃูุจุฑ ูููุงุก"], a:1},
      {q:"ูุถุน ุงูุฎูุงูุง ุงููุจุงุชูุฉ ูู ูุญููู ูุฑูุฒ ูุณุจุจ:", c:["ุงูุชูุงุกูุง","ุฎุฑูุฌ ุงููุงุก ูููุง","ุฏุฎูู ุงููุงุก ุฅูููุง","ุฒูุงุฏุฉ ุงูุจูุงุก ุงูุถูุฆู"], a:1},
      {q:"ุญุงูุฉ ุงูุจูุฒูุฉ ูููู ุนูุณูุง ุฅุฐุง ูุถุนุช ุงูุฎููุฉ ูู:", c:["ูุญููู ููุญู ุดุฏูุฏ ุงูุชุฑููุฒ","ูุงุก ููู","ูุณุท ุฌุงู","ูุณุท ุนุฏูู ุงููุงุก"], a:1},
      {q:"ุงูุถุบุท ุงูุงูุชูุงุฆู ููุชุฌ ูู:", c:["ุงูุชูุงุก ุงููุฌูุฉ ุงูุนุตุงุฑูุฉ ุจุงููุงุก","ุฒูุงุฏุฉ ุงูุฃููุงุญ","ุชูููู ุงููููุฑูููู","ููุต ุงูุฃูุณุฌูู"], a:0},
      {q:"ุฎููุฉ ูุจุงุชูุฉ ูู ูุญููู ูุชุณุงูู ุงูุชุฑููุฒ ุชููู:", c:["ููุชูุฆุฉ ุฌุฏูุง","ูุจูุฒูุฉ","ุทุจูุนูุฉ (ูุง ุชุบูุฑ ูู ุงูุญุฌู)","ููุชุฉ"], a:2},
      {q:"ูู ุฃูู ูุธุงุฆู ุงูุถุบุท ุงูุงูุชูุงุฆู:", c:["ุชุฎุฒูู ุงูุจุฑูุชูู","ุฏุนู ุงููุจุงุช ูููุงูููููุง","ุฅูุชุงุฌ ุงูุทุงูุฉ","ุชูุธูู ุงูุชููุณ"], a:1},
      {q:"ุงูุณุจุจ ุงููุจุงุดุฑ ููุจูุฒูุฉ ูู:", c:["ุฏุฎูู ุงููุงุก","ุฎุฑูุฌ ุงููุงุก ุจูุซุฑุฉ","ุชุฑุงูู ุงูุฃูุณุฌูู","ุฒูุงุฏุฉ ุงููููุฑูููู"], a:1},
      {q:"ุฃู ููุง ููู ูุตู ุฎููุฉ ูุจูุฒูุฉุ", c:["ุชูููุด ุงูุณูุชูุจูุงุฒู ูุจุชุนุฏูุง ุนู ุงูุฌุฏุงุฑ","ููุชูุฆ ุงูุณูุชูุจูุงุฒู ุจุงููุงุก","ูุธู ุญุฌููุง ุซุงุจุชูุง","ูููู ุงูุบุดุงุก ุตูุจูุง"], a:0},
      {q:"ุชุทุจูู ุนููู ููุฃุณููุฒูุฉ ูู ุญูุงุฉ ุงููุจุงุช:", c:["ุงูุชูุงู ุงููุงุก ูู ุงูุชุฑุจุฉ ุฅูู ุงูุฌุฐูุฑ","ููู ุงูุณูุฑ ูู ุงููุญุงุก","ุชุจุงุฏู ุงูุบุงุฒุงุช ูู ุงูุฃูุฑุงู","ุฅูุชุงุฌ ุงูุจุฑูุชูู ูู ุงูููุงุฉ"], a:0}"""
        
        # ุงุณุชุจุฏุงู ุจูู ุงูุฃุณุฆูุฉ
        content = re.sub(
            r'const bank = \[\s*\{q:.*?\}\s*\];',
            f'const bank = [\n{new_questions}\n    ];',
            content,
            flags=re.DOTALL
        )
        
        # ุญูุธ ุงูููู ุงููุญุฏุซ
        with open(file_path, 'w', encoding='utf-8') as file:
            file.write(content)
        
        print("๐ ุชู ุชุญุฏูุซ ุงูุฏุฑุณ 2-3 ุจูุฌุงุญ!")
        print("๐ ุฅุญุตุงุฆูุงุช ุงูุชุญุฏูุซ:")
        print("   โ ุงูุนููุงู: ุชุทุจููุงุช ุงูุฃุณููุฒูุฉ")
        print("   โ ุงูุฃูุฏุงู: 6 ุฃูุฏุงู ุฌุฏูุฏุฉ")
        print("   โ ุงูุฃุณุฆูุฉ: 20 ุณุคุงู ููุธู ูู 4 ูุฌููุนุงุช:")
        print("      - ุงููุฌููุนุฉ ุงูุฃููู: ุญุงูุงุช ุงูุฎููุฉ (5 ุฃุณุฆูุฉ)")
        print("      - ุงููุฌููุนุฉ ุงูุซุงููุฉ: ุงูุชุฌุฑุจุฉ - ุดุฑุงุฆุญ ุงูุจุทุงุทุณ (5 ุฃุณุฆูุฉ)")
        print("      - ุงููุฌููุนุฉ ุงูุซุงูุซุฉ: ุงูููุงููู ุงูุนูููุฉ (5 ุฃุณุฆูุฉ)")
        print("      - ุงููุฌููุนุฉ ุงูุฑุงุจุนุฉ: ุงูุชูููู (5 ุฃุณุฆูุฉ)")
        
        return True
        
    except Exception as e:
        print(f"โ ุฎุทุฃ ูู ุชุญุฏูุซ ุงูููู: {e}")
        return False

if __name__ == "__main__":
    update_lesson_2_3()