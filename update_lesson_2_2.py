#!/usr/bin/env python3
# -*- coding: utf-8 -*-

import re

# ุงูุฃูุฏุงู ุงูุฌุฏูุฏุฉ ููุฏุฑุณ 2-2
new_objectives = """        <li>ุชุนุฑูู ุงูุฃุณููุฒูุฉ ุจุฃููุง ุญุฑูุฉ ุงููุงุก ุนุจุฑ ุบุดุงุก ุดุจู ูููุฐ ูู ููุทูุฉ ุฐุงุช ุชุฑููุฒ ุนุงูู ูููุงุก ุฅูู ููุทูุฉ ุฐุงุช ุชุฑููุฒ ููุฎูุถ.</li>
        <li>ุชูููุฒ ุฏูุฑ ุงูุบุดุงุก ุดุจู ุงููููุฐ ูู ุชูุธูู ูุฑูุฑ ุงููุงุก.</li>
        <li>ุชูุถูุญ ุงูุนูุงูุฉ ุจูู ุงูุฃุณููุฒูุฉ ูุงูุฌูุฏ ุงููุงุฆู (Water potential).</li>
        <li>ุชูุณูุฑ ุงูุชุบูุฑุงุช ุงูุชู ุชุญุฏุซ ูู ุงูุฎูุงูุง ุงููุจุงุชูุฉ ุนูุฏ ุฏุฎูู ูุฎุฑูุฌ ุงููุงุก (ููุชูุฆุฉ Turgidุ ูุชุฑููุฉ Flaccidุ ูุจูุฒูุฉ Plasmolysed).</li>
        <li>ุจูุงู ุฃูููุฉ ุงูุฃุณููุฒูุฉ ูู ุงูุชุตุงุต ุงููุงุก ุจูุงุณุทุฉ ุงูุดุนูุฑุงุช ุงูุฌุฐุฑูุฉ ูู ุงููุจุงุชุงุช.</li>
        <li>ุชุทุจูู ููููู ุงูุฃุณููุฒูุฉ ุนูู ุชุฌุงุฑุจ ุนูููุฉ (ูุซู ุชุฌุฑุจุฉ ุงูุจุทุงุทุณ ุฃู ุงูููุน ูู ุงููุญุงููู ุงููุฎุชููุฉ).</li>"""

# ุจูู ุงูุฃุณุฆูุฉ ุงูุฌุฏูุฏ ููุฏุฑุณ 2-2 - 20 ุณุคุงู ููุธู ูู 4 ูุฌููุนุงุช
new_questions = [
    # ุงููุฌููุนุฉ ุงูุฃููู: ุงูููููู ุงูุฃุณุงุณู (5 ุฃุณุฆูุฉ)
    {"q": "ูุง ุชุนุฑูู ุงูุฃุณููุฒูุฉุ", "c": ["ุญุฑูุฉ ุงูุฌุฒูุฆุงุช ูู ุชุฑููุฒ ุนุงูู ุฅูู ุชุฑููุฒ ููุฎูุถ", "ุญุฑูุฉ ุงููุงุก ุนุจุฑ ุบุดุงุก ุดุจู ูููุฐ", "ุญุฑูุฉ ุงูุจุฑูุชููุงุช ุนุจุฑ ุงูุบุดุงุก", "ุญุฑูุฉ ุงูุบุงุฒุงุช ูู ุงูุฑุฆุฉ"], "a": 1},
    {"q": "ุฃู ูู ุงูุชุงูู ููุนุฏ ุดุฑุทูุง ูุญุฏูุซ ุงูุฃุณููุฒูุฉุ", "c": ["ูุฌูุฏ ุจูุงุณุชูุฏุงุช", "ูุฌูุฏ ุบุดุงุก ุดุจู ูููุฐ", "ูุฌูุฏ ุทุงูุฉ (ATP)", "ุบูุงุจ ุงููุงุก"], "a": 1},
    {"q": "ูู ุนูููุฉ ุงูุฃุณููุฒูุฉ ููุชูู ุงููุงุก:", "c": ["ูู ุชุฑููุฒ ูุงุก ููุฎูุถ ุฅูู ุชุฑููุฒ ูุงุก ูุฑุชูุน", "ูู ุชุฑููุฒ ูุงุก ูุฑุชูุน ุฅูู ุชุฑููุฒ ูุงุก ููุฎูุถ", "ูู ููุทูุฉ ุชุฑููุฒ ุงูุฃููุงุญ ุงูุฃูู ุฅูู ุงูุฃุนูู ูุจุงุดุฑุฉ", "ุจุดูู ุนุดูุงุฆู ุบูุฑ ููุธู"], "a": 1},
    {"q": "ุงูุบุดุงุก ุดุจู ุงููููุฐ ูุณูุญ ุจูุฑูุฑ:", "c": ["ุฌููุน ุงูุฌุฒูุฆุงุช", "ุฌุฒูุฆุงุช ุงููุงุก ููุท", "ุฌุฒูุฆุงุช ุงูุจุฑูุชูู", "ุฌููุน ุงูููุงุฏ ุงูุฐุงุฆุจุฉ"], "a": 1},
    {"q": "ูุตุทูุญ \"ุฌูุฏ ูุงุฆู\" ูุดูุฑ ุฅูู:", "c": ["ูููุฉ ุงูุจุฑูุชูู ูู ุงูุฎููุฉ", "ูุฏุฑุฉ ุงููุงุก ุนูู ุงูุญุฑูุฉ", "ุชุฑููุฒ ุงูุฃููุงุญ", "ุญุฌู ุงููุฌูุฉ ุงูุนุตุงุฑูุฉ"], "a": 1},
    
    # ุงููุฌููุนุฉ ุงูุซุงููุฉ: ุชุทุจููุงุช ูู ุงูุฎููุฉ (5 ุฃุณุฆูุฉ)
    {"q": "ุฎููุฉ ูุจุงุชูุฉ ููุถุนุช ูู ูุญููู ููุฎูุถ ุงูุชุฑููุฒ ุณุชุตุจุญ:", "c": ["ูุชุฑููุฉ (Flaccid)", "ููุชูุฆุฉ (Turgid)", "ูุจูุฒูุฉ (Plasmolysed)", "ููุชุฉ"], "a": 1},
    {"q": "ุฎููุฉ ูุจุงุชูุฉ ููุถุนุช ูู ูุญููู ูุฑูุฒ ุณุชุตุจุญ:", "c": ["ููุชูุฆุฉ (Turgid)", "ูุจูุฒูุฉ (Plasmolysed)", "ุณูููุฉ", "ูุจูุฑุฉ ุงูุญุฌู"], "a": 1},
    {"q": "ุนูุฏูุง ุชููุฏ ุงูุฎููุฉ ุงููุจุงุชูุฉ ุงููุงุก ูุชูููุด ุจุนูุฏูุง ุนู ุงูุฌุฏุงุฑ ุงูุฎููู ุชุณูู ุงูุนูููุฉ:", "c": ["ุงูุจูุฒูุฉ (Plasmolysis)", "ุงูุงูุชูุงุก", "ุงูุงูุชุดุงุฑ", "ุงูููู ุงููุดุท"], "a": 0},
    {"q": "ุงูุถุบุท ุงููุงุชุฌ ูู ุงูุชูุงุก ุงููุฌูุฉ ุงูุนุตุงุฑูุฉ ุจุงููุงุก ูู:", "c": ["ุถุบุท ุงูุฏู", "ุถุบุท ุงูุงูุชูุงุก (Turgor pressure)", "ุงูุถุบุท ุงูุฌูู", "ุถุบุท ุงูุจูุงุฒูุง"], "a": 1},
    {"q": "ุฎููุฉ ุจุทุงุทุณ ูู ูุญููู ูุงุฆู ููู ุณุช:", "c": ["ุชููุฏ ูุชูุชูุง", "ุชุฒุฏุงุฏ ูุชูุชูุง", "ุชุจูู ููุง ูู", "ุชูููุด"], "a": 1},
    
    # ุงููุฌููุนุฉ ุงูุซุงูุซุฉ: ุงููุฑูู ูุน ุงูุนูููุงุช ุงูุฃุฎุฑู (5 ุฃุณุฆูุฉ)
    {"q": "ุงููุฑู ุจูู ุงูุงูุชุดุงุฑ ูุงูุฃุณููุฒูุฉ ุฃู:", "c": ["ุงูุงูุชุดุงุฑ ูููุงุก ููุท", "ุงูุฃุณููุฒูุฉ ูููุงุก ููุท", "ุงูุฃุณููุฒูุฉ ุชุญุชุงุฌ ุทุงูุฉ", "ุงูุงูุชุดุงุฑ ูุญุชุงุฌ ุบุดุงุก"], "a": 1},
    {"q": "ุงูุชูุงู ุงูุบููููุฒ ุนุจุฑ ุงูุบุดุงุก ูุญุฏุซ ุนุงุฏุฉู ุจูุงุณุทุฉ:", "c": ["ุงูุงูุชุดุงุฑ", "ุงูุฃุณููุฒูุฉ", "ุงูููู ุงููุดุท", "ุงูุจูุฒูุฉ"], "a": 2},
    {"q": "ุงูุฃุณููุฒูุฉ ุนูููุฉ:", "c": ["ูุดุทุฉ ุชุญุชุงุฌ ATP", "ุณูุจูุฉ ูุง ุชุญุชุงุฌ ุทุงูุฉ", "ุชุญุฏุซ ููุท ูู ุงูุฏู", "ุชุญุชุงุฌ ุฅูู ุจุฑูุชููุงุช ูุงููุฉ ุฏุงุฆููุง"], "a": 1},
    {"q": "ุงูุดุนูุฑุงุช ุงูุฌุฐุฑูุฉ ุชูุชุต ุงููุงุก ุฃุณุงุณูุง ุจูุถู:", "c": ["ุงูููู ุงููุดุท", "ุงูุฃุณููุฒูุฉ", "ุงูุจูุฒูุฉ", "ุงูุจูุงุก ุงูุถูุฆู"], "a": 1},
    {"q": "ุนูุฏูุง ุชุชุณุงูู ุชุฑููุฒุงุช ุงููุงุก ุฏุงุฎู ูุฎุงุฑุฌ ุงูุฎููุฉ ูุญุฏุซ:", "c": ["ุชููู ูุญุฑูุฉ ุงููุงุก", "ุงูุชูุงุก ุฏุงุฆู", "ููุฏุงู ูููุงุก", "ุชุฏููุฑ ููุบุดุงุก"], "a": 0},
    
    # ุงููุฌููุนุฉ ุงูุฑุงุจุนุฉ: ุชูููู ูุชุทุจููุงุช (5 ุฃุณุฆูุฉ)
    {"q": "ุฃู ููุง ููู ูุตู ุญุงูุฉ ุงูุฎููุฉ ูู ูุญููู ูุชุนุงุฏู ุงูุชุฑููุฒุ", "c": ["ููุชุฉ", "ุณูููุฉ ููุง ูุชุบูุฑ ุญุฌููุง", "ููุชูุฆุฉ ุฌุฏูุง", "ูุจูุฒูุฉ"], "a": 1},
    {"q": "ุฅุฐุง ูุถุนุช ุฎููุฉ ูุจุงุชูุฉ ูู ูุงุก ููุทุฑ ูุฅู ุงููุงุก:", "c": ["ูุฎุฑุฌ ูู ุงูุฎููุฉ", "ูุฏุฎู ุฅูู ุงูุฎููุฉ", "ูุง ูุชุญุฑู", "ูุฐูุจ ุงูุฌุฏุงุฑ ุงูุฎููู"], "a": 1},
    {"q": "ูุง ุณุจุจ ุฐุจูู ุงููุจุงุชุงุช ุนูุฏ ููุฉ ุงููุงุก ูู ุงูุชุฑุจุฉุ", "c": ["ุฒูุงุฏุฉ ุงูุจูุงุก ุงูุถูุฆู", "ููุฏุงู ุงูุงูุชูุงุก ุจุณุจุจ ุฎุฑูุฌ ุงููุงุก ุจุงูุฃุณููุฒูุฉ", "ุฒูุงุฏุฉ ุงูุงูุชูุงุก", "ููุต ุงูุบุงุฒุงุช"], "a": 1},
    {"q": "ุนูุฏ ุฅุถุงูุฉ ููุญ ุจูุซุฑุฉ ุฅูู ุงูุชุฑุจุฉุ ูุฅู ุงูุชุตุงุต ุงููุงุก ูู ูุจู ุงููุจุงุช:", "c": ["ูุฒุฏุงุฏ", "ููู ุจุณุจุจ ุงูุฃุณููุฒูุฉ ุงูุนูุณูุฉ", "ูุง ูุชุฃุซุฑ", "ูุฒุฏุงุฏ ูุฌุฃุฉ"], "a": 1},
    {"q": "ุฃูููุฉ ุงูุฃุณููุฒูุฉ ูู ุงููุจุงุชุงุช ุฃููุง:", "c": ["ุชุณุงุนุฏ ุนูู ุฅุฎุฑุงุฌ ุงููุถูุงุช", "ุชุญุงูุธ ุนูู ุตูุงุจุฉ ุงูุฎูุงูุง ูุฏุนู ุงููุจุงุช", "ุชุฎุฒู ุงูููุงุฏ ุงูุนุถููุฉ", "ุชูุชุฌ ุงูุทุงูุฉ"], "a": 1}
]

def update_lesson_2_2():
    # ูุฑุงุกุฉ ุงูููู ุงูุญุงูู
    with open(r'c:\Users\ahm7d\Desktop\W\unit-2-transport\lesson-2-2\index.html', 'r', encoding='utf-8') as f:
        content = f.read()
    
    # 1. ุชุญุฏูุซ ุนููุงู ุงูุฏุฑุณ
    content = content.replace('ุงูุงูุชุดุงุฑ ูุงูุฎุงุตูุฉ ุงูุฃุณููุฒูุฉ', 'ุงูุฃุณููุฒูุฉ')
    content = content.replace('ุชุนูู ููุงููู ุงูุงูุชุดุงุฑ ูุงูุฃุณููุฒูุฉ ูุชุทุจููุงุชูุง ูู ุงูุฎูุงูุง ุงูุญูุฉ', 'ููู ููููู ุงูุฃุณููุฒูุฉ ูุญุงูุงุช ุงูุฎูุงูุง ุงููุจุงุชูุฉ ูุงูุชุทุจููุงุช ุงูุนูููุฉ')
    
    # 2. ุชุญุฏูุซ ุงูุฃูุฏุงู
    objectives_pattern = r'(<ul>\s*)(.*?)(\s*</ul>)'
    objectives_match = re.search(objectives_pattern, content, re.DOTALL)
    if objectives_match:
        content = content.replace(objectives_match.group(0), f'<ul>\n{new_objectives}\n      </ul>')
        print("โ ุชู ุชุญุฏูุซ ุงูุฃูุฏุงู ุจูุฌุงุญ!")
    
    # 3. ุชุญุฏูุซ ุจูู ุงูุฃุณุฆูุฉ
    # ุงูุจุญุซ ุนู ุจุฏุงูุฉ ูุตูููุฉ bank
    bank_pattern = r'(const bank = \[)(.*?)(\];)'
    bank_match = re.search(bank_pattern, content, re.DOTALL)
    
    if bank_match:
        # ุชูููู ุงูุฃุณุฆูุฉ ุงูุฌุฏูุฏุฉ ููุต JavaScript
        questions_js = []
        for i, question in enumerate(new_questions):
            q_text = question['q'].replace('"', '\\"')
            choices = '","'.join([choice.replace('"', '\\"') for choice in question['c']])
            questions_js.append(f'      {{q:"{q_text}", c:["{choices}"], a:{question["a"]}}}')
        
        new_bank_content = ',\n'.join(questions_js)
        new_bank = f'{bank_match.group(1)}\n{new_bank_content}\n    {bank_match.group(3)}'
        
        content = content.replace(bank_match.group(0), new_bank)
        print("โ ุชู ุชุญุฏูุซ ุจูู ุงูุฃุณุฆูุฉ ุจูุฌุงุญ!")
    
    # ูุชุงุจุฉ ุงูููู ุงููุญุฏุซ
    with open(r'c:\Users\ahm7d\Desktop\W\unit-2-transport\lesson-2-2\index.html', 'w', encoding='utf-8') as f:
        f.write(content)
    
    print("๐ ุชู ุชุญุฏูุซ ุงูุฏุฑุณ 2-2 ุจูุฌุงุญ!")
    print("๐ ุงูุฅุญุตุงุฆูุงุช:")
    print(f"   โข ุชู ุชุญุฏูุซ {len(new_objectives.split('<li>'))-1} ุฃูุฏุงู ุชุนููููุฉ")
    print(f"   โข ุชู ุชุญุฏูุซ {len(new_questions)} ุณุคุงู ุชูุงุนูู")
    print("   โข ุงููุฌููุนุฉ ุงูุฃููู: ุงูููููู ุงูุฃุณุงุณู (5 ุฃุณุฆูุฉ)")
    print("   โข ุงููุฌููุนุฉ ุงูุซุงููุฉ: ุชุทุจููุงุช ูู ุงูุฎููุฉ (5 ุฃุณุฆูุฉ)")  
    print("   โข ุงููุฌููุนุฉ ุงูุซุงูุซุฉ: ุงููุฑูู ูุน ุงูุนูููุงุช ุงูุฃุฎุฑู (5 ุฃุณุฆูุฉ)")
    print("   โข ุงููุฌููุนุฉ ุงูุฑุงุจุนุฉ: ุชูููู ูุชุทุจููุงุช (5 ุฃุณุฆูุฉ)")

if __name__ == "__main__":
    update_lesson_2_2()