#!/usr/bin/env python3
# -*- coding: utf-8 -*-

import re
import os

def update_lesson_3_2():
    """ุชุญุฏูุซ ูุญุชูู ุงูุฏุฑุณ 3-2: ุงูุจุฑูุชููุงุช ูุงูุฏููู"""
    
    file_path = r"unit-3-biomolecules\lesson-3-2\index.html"
    
    if not os.path.exists(file_path):
        print(f"โ ุงูููู ุบูุฑ ููุฌูุฏ: {file_path}")
        return False
    
    try:
        # ูุฑุงุกุฉ ุงูููู
        with open(file_path, 'r', encoding='utf-8') as file:
            content = file.read()
        
        # ุชุญุฏูุซ ุนููุงู ุงูุฏุฑุณ ููุตูู
        content = re.sub(
            r'<h1>.*?</h1>\s*<p class="lead">.*?</p>',
            '<h1>ุงูุจุฑูุชููุงุช ูุงูุฏููู</h1>\n      <p class="lead">ุฏุฑุงุณุฉ ุงูุจุฑูุชููุงุช ูุงูุฏููู ููุฑูุจุงุช ุนุถููุฉ ุฃุณุงุณูุฉ ููุธุงุฆููุง ูุงุฎุชุจุงุฑุงุชูุง</p>',
            content,
            flags=re.DOTALL
        )
        
        # ุงูุฃูุฏุงู ุงูุฌุฏูุฏุฉ
        new_objectives = """        <li>ุชุนุฑูู ุงูุจุฑูุชููุงุช ูุงูุฏููู ููุฑูุจุงุช ุนุถููุฉ ุฃุณุงุณูุฉ ูู ุงููุงุฆูุงุช ุงูุญูุฉ.</li>
        <li>ุฐูุฑ ููููุงุช ุงูุจุฑูุชูู (ุงูุฃุญูุงุถ ุงูุฃููููุฉ) ูุงูุฏููู (ุงูุฃุญูุงุถ ุงูุฏูููุฉ + ุงูุฌูุณุฑูู).</li>
        <li>ุชูุถูุญ ูุธุงุฆู ุงูุจุฑูุชููุงุช (ุจูุงุก ุงูุฎูุงูุงุ ุงูุฅูุฒููุงุชุ ุงููุฑูููุงุชุ ุงูุฃุฌุณุงู ุงููุถุงุฏุฉ).</li>
        <li>ุชูุณูุฑ ุฏูุฑ ุงูุฏููู ููุฎุฒู ููุทุงูุฉ ูุญูุงูุฉ ุงูุฃุนุถุงุก ูุนุฒู ุญุฑุงุฑู.</li>
        <li>ุงูุชุนุฑู ุนูู ุงุฎุชุจุงุฑุงุช ุงููุดู ุนู ุงูุจุฑูุชููุงุช (ุงุฎุชุจุงุฑ ุงูุจููุฑูุช) ูุงูุฏููู (ุงุฎุชุจุงุฑ ุงููุฑู ุงูุจูู ุฃู ุงูุฅูุซุงููู).</li>
        <li>ููุงุฑูุฉ ุจูู ุงูุจุฑูุชููุงุช ูุงูุฏููู ูู ุญูุซ ุงูุชุฑููุจ ูุงููุธููุฉ.</li>"""
        
        # ุงุณุชุจุฏุงู ุงูุฃูุฏุงู
        content = re.sub(
            r'<ul>\s*<li>.*?</li>\s*</ul>',
            f'<ul>\n{new_objectives}\n      </ul>',
            content,
            flags=re.DOTALL
        )
        
        # ุงูุฃุณุฆูุฉ ุงูุฌุฏูุฏุฉ ููุณูุฉ ุฅูู 4 ูุฌููุนุงุช
        new_questions = """      {q:"ุงูุจุฑูุชููุงุช ุชุชููู ูู ูุญุฏุงุช ุฃุณุงุณูุฉ ูู:", c:["ุงูุฌููููุฒ","ุงูุฃุญูุงุถ ุงูุฃููููุฉ","ุงูุฃุญูุงุถ ุงูุฏูููุฉ","ุงููุดุง"], a:1},
      {q:"ุนุฏุฏ ุงูุฃุญูุงุถ ุงูุฃููููุฉ ุงูุฃุณุงุณูุฉ ูู ุจูุงุก ุงูุจุฑูุชููุงุช:", c:["10","15","20","30"], a:2},
      {q:"ุงูุฑุงุจุทุฉ ุงูุชู ุชุฑุจุท ุจูู ุงูุฃุญูุงุถ ุงูุฃููููุฉ ูู ุงูุจุฑูุชูู ูู:", c:["ุฑุงุจุทุฉ ููุฏุฑูุฌูููุฉ","ุฑุงุจุทุฉ ุจุจุชูุฏูุฉ","ุฑุงุจุทุฉ ููุณููุฑูุฉ","ุฑุงุจุทุฉ ุฃููููุฉ"], a:1},
      {q:"ูุธููุฉ ุงูุจุฑูุชููุงุช ุชุดูู ุฌููุน ูุง ููู ุนุฏุง:", c:["ุชูููู ุงูุฅูุฒููุงุช","ุชูููู ุงููุฑูููุงุช","ุชุฎุฒูู ุงูุทุงูุฉ ุทูููุฉ ุงูุฃูุฏ","ุชูููู ุงูุฃุฌุณุงู ุงููุถุงุฏุฉ"], a:2},
      {q:"ุงุฎุชุจุงุฑ ุงูุจููุฑูุช ููุณุชุฎุฏู ูููุดู ุนู:", c:["ุงูุณูุฑูุงุช","ุงูุจุฑูุชููุงุช","ุงูุฏููู","ุงููุดุง"], a:1},
      {q:"ุงูุฏููู ุชุชููู ูู:", c:["ุฃุญูุงุถ ุฃููููุฉ ููุท","ุฌูุณุฑูู ูุฃุญูุงุถ ุฏูููุฉ","ูุดุง ูุณูุฑ","ุฌููููุฒ ููุฑูุชูุฒ"], a:1},
      {q:"ุฃูู ูุธููุฉ ููุฏููู ูู ุงูุฌุณู ูู:", c:["ุนุฒู ุญุฑุงุฑู","ุชูููู DNA","ุฅูุชุงุฌ ุซุงูู ุฃูุณูุฏ ุงููุฑุจูู","ุชูููู ุงูุจูุงุณุชูุฏุงุช"], a:0},
      {q:"ุงูุฏููู ุชููุฑ ุทุงูุฉ ุฃูุซุฑ ูู ุงููุฑุจูููุฏุฑุงุช ุจูุนุฏู:", c:["ุถุนููุง","ูุตููุง","ูุณุงููุฉ ููุง","ุฃูู ูููุง"], a:0},
      {q:"ุงูุฏููู ุงููุฎุฒูุฉ ูู ุงูุฌุณู ุชูุฌุฏ ุบุงูุจูุง ูู:", c:["ุงููุฎุงุน","ุงูุฃูุณุฌุฉ ุงูุฏูููุฉ","ุงูููุงุฉ","ุงููุจุฏ ููุท"], a:1},
      {q:"ูู ุฃูุซูุฉ ุงูุฏููู ุงููุณููุฑูุฉ:", c:["ุงูุณููููุฒ","ุงูููุณููููุจูุฏ","ุงูุฌูุงูููุฌูู","ุงููุงูุชูุฒ"], a:1},
      {q:"ุงุฎุชุจุงุฑ ุงูุจููุฑูุช ููุจุฑูุชูู ูุนุทู ููููุง:", c:["ุฃุฒุฑู","ุจููุณุฌู","ุฃุญูุฑ ุขุฌุฑู","ุฃุณูุฏ"], a:1},
      {q:"ุงุฎุชุจุงุฑ ุงูููุฏ ูุง ูุณุชุฎุฏู ูููุดู ุนู ุงูุจุฑูุชูู ูุฃูู:", c:["ุฎุงุต ุจุงูุณูุฑูุงุช ุงูุซูุงุฆูุฉ","ุฎุงุต ุจุงููุดู ุนู ุงููุดุง","ุฎุงุต ุจุงููุดู ุนู ุงูุฏููู","ูุง ูุนุทู ุฃู ููู"], a:1},
      {q:"ุงุฎุชุจุงุฑ ุงูุฏููู ุจุงุณุชุฎุฏุงู ุงููุฑู ุงูุจูู ูุนุชูุฏ ุนูู:", c:["ุชุบูุฑ ุงูููู ุฅูู ุฃุฒุฑู","ุธููุฑ ุจูุนุฉ ุดูุงูุฉ","ุชูููู ุฑุงุณุจ ุฃุจูุถ","ุธููุฑ ููุงุนุงุช"], a:1},
      {q:"ุนูุฏ ุฅุถุงูุฉ ุงูุฅูุซุงููู ูููุงุฏุฉ ุงูุฏูููุฉ ูุชููู:", c:["ููู ุจููุณุฌู","ุฑุงุณุจ ุฃุจูุถ","ููู ุฃุญูุฑ","ููู ุฃุณูุฏ"], a:1},
      {q:"ุฃู ููุง ููู ูุซุจุช ูุฌูุฏ ุงูุฏููู ูู ุงูุทุนุงูุ", c:["ุฑุงุฆุญุฉ ูููุฉ","ุจูุนุฉ ุดูุงูุฉ ุนูู ุงููุฑู","ุฐูุจุงู ุณุฑูุน ูู ุงููุงุก","ุชุญูู ุฅูู ุงูููู ุงูุจููุณุฌู"], a:1},
      {q:"ุงููุฑู ุจูู ุงูุจุฑูุชููุงุช ูุงูุฏููู ุฃู:", c:["ุงูุจุฑูุชููุงุช ุชุจูู ุงูุฌุณู ูุงูุฏููู ุชุฎุฒู ุงูุทุงูุฉ","ุงูุจุฑูุชููุงุช ูุตุฏุฑ ููุทุงูุฉ ูุงูุฏููู ูุตุฏุฑ ููุฅูุฒููุงุช","ุงูุจุฑูุชููุงุช ุบูุฑ ูููุฉ","ุงูุฏููู ูุง ุชูุฌุฏ ูู ุงูุฌุณู"], a:0},
      {q:"ุฃู ููุง ููู ูุซุงู ุนูู ุจุฑูุชููุ", c:["ุงูุฌููููุฒ","ุงููููุงุฌูู","ุงูููุณููููุจูุฏ","ุงููุดุง"], a:1},
      {q:"ุฃู ููุง ููู ูุซุงู ุนูู ุฏูููุ", c:["ุงููุงูุชูุฒ","ุงููุฑูุชูุฒ","ุงูููุณููููุจูุฏ","ุงููููุงุฌูู"], a:2},
      {q:"ุงูุฏููู ุชุนูู ูุนุงุฒู ุญุฑุงุฑู ูุฃููุง:", c:["ุชุฐูุจ ูู ุงููุงุก","ูุง ุชุฐูุจ ูู ุงููุงุก","ุชุชุจุฎุฑ ุจุณุฑุนุฉ","ุชุญุชูู ุนูู ุจุฑูุชูู"], a:1},
      {q:"ุฃู ููุง ููู ููุณ ูู ูุธุงุฆู ุงูุจุฑูุชููุ", c:["ุจูุงุก ุงูุนุถูุงุช","ุชูููู ุงูุฃุฌุณุงู ุงููุถุงุฏุฉ","ุฅูุชุงุฌ ุงูุฅูุฒููุงุช","ุชุฎุฒูู ุทููู ุงูุฃูุฏ ููุทุงูุฉ"], a:3}"""
        
        # ุงุณุชุจุฏุงู ุจูู ุงูุฃุณุฆูุฉ
        content = re.sub(
            r'const bank = \[\s*\{q:.*?\}\s*\];',
            f'const bank = [\n{new_questions}\n    ];',
            content,
            flags=re.DOTALL
        )
        
        # ุญูุธ ุงูููู ุงููุญุฏุซ
        with open(file_path, 'w', encoding='utf-8') as file:
            file.write(content)
        
        print("๐ ุชู ุชุญุฏูุซ ุงูุฏุฑุณ 3-2 ุจูุฌุงุญ!")
        print("๐ ุฅุญุตุงุฆูุงุช ุงูุชุญุฏูุซ:")
        print("   โ ุงูุนููุงู: ุงูุจุฑูุชููุงุช ูุงูุฏููู")
        print("   โ ุงูุฃูุฏุงู: 6 ุฃูุฏุงู ุฌุฏูุฏุฉ")
        print("   โ ุงูุฃุณุฆูุฉ: 20 ุณุคุงู ููุธู ูู 4 ูุฌููุนุงุช:")
        print("      - ุงููุฌููุนุฉ ุงูุฃููู: ุงูุจุฑูุชููุงุช (5 ุฃุณุฆูุฉ)")
        print("      - ุงููุฌููุนุฉ ุงูุซุงููุฉ: ุงูุฏููู (5 ุฃุณุฆูุฉ)")
        print("      - ุงููุฌููุนุฉ ุงูุซุงูุซุฉ: ุงูุงุฎุชุจุงุฑุงุช ุงูุนูููุฉ (5 ุฃุณุฆูุฉ)")
        print("      - ุงููุฌููุนุฉ ุงูุฑุงุจุนุฉ: ุงูููุงุฑูุฉ ูุงูุชูููู (5 ุฃุณุฆูุฉ)")
        
        return True
        
    except Exception as e:
        print(f"โ ุฎุทุฃ ูู ุชุญุฏูุซ ุงูููู: {e}")
        return False

if __name__ == "__main__":
    update_lesson_3_2()