#!/usr/bin/env python3
# -*- coding: utf-8 -*-

import re
import os

def update_lesson_6_2():
    """ุชุญุฏูุซ ูุญุชูู ุงูุฏุฑุณ 6-2: ุงูุฌูุงุฒ ุงูุนุตุจู ูู ุงูุฅูุณุงู"""
    
    file_path = r"unit-6-homeostasis\lesson-6-2\index.html"
    
    if not os.path.exists(file_path):
        print(f"โ ุงูููู ุบูุฑ ููุฌูุฏ: {file_path}")
        return False
    
    try:
        # ูุฑุงุกุฉ ุงูููู
        with open(file_path, 'r', encoding='utf-8') as file:
            content = file.read()
        
        # ุชุญุฏูุซ ุนููุงู ุงูุฏุฑุณ ููุตูู
        content = re.sub(
            r'<h1>.*?</h1>\s*<p class="lead">.*?</p>',
            '<h1>๐ง ุงูุฌูุงุฒ ุงูุนุตุจู ูู ุงูุฅูุณุงู</h1>\n      <p class="lead">ุชุฑููุจ ููุธุงุฆู ุงูุฌูุงุฒ ุงูุนุตุจู ูุขููุฉ ููู ุงูุณูุงูุงุช ุงูุนุตุจูุฉ ูุงูุงุณุชุฌุงุจุงุช ุงูุงูุนูุงุณูุฉ</p>',
            content,
            flags=re.DOTALL
        )
        
        # ุงูุฃูุฏุงู ุงูุฌุฏูุฏุฉ
        new_objectives = """        <li>ูุตู ููููุงุช ุงูุฌูุงุฒ ุงูุนุตุจู ูู ุงูุฅูุณุงู (<strong>ุงูุฌูุงุฒ ุงูุนุตุจู ุงููุฑูุฒู</strong> + <strong>ุงูุฌูุงุฒ ุงูุนุตุจู ุงูุทุฑูู</strong>).</li>
        <li>ุชุญุฏูุฏ ูุธุงุฆู <strong>ุงูุฏูุงุบ</strong> ู<strong>ุงูุญุจู ุงูุดููู</strong>.</li>
        <li>ุงูุชุนุฑู ุนูู ุชุฑููุจ <strong>ุงูุนุตุจูู (ุงูุฎูุงูุง ุงูุนุตุจูุฉ)</strong> ููุธุงุฆูู (ุงุณุชูุจุงู โ ุชูุตูู โ ุงุณุชุฌุงุจุฉ).</li>
        <li>ุดุฑุญ ููููู <strong>ุงูุณูุงู ุงูุนุตุจู (Nerve impulse)</strong> ูุฅุดุงุฑุงุช ููุฑุจุงุฆูุฉ ุชูุชูู ุนุจุฑ ุงูุฃุนุตุงุจ.</li>
        <li>ุชูุถูุญ ุฏูุฑ <strong>ุงููุดุงุจู ุงูุนุตุจูุฉ (Synapses)</strong> ูู ููู ุงูุฑุณุงุฆู ุจูู ุงูุฎูุงูุง ุงูุนุตุจูุฉ.</li>
        <li>ุชูุณูุฑ ุงููุฑู ุจูู <strong>ุงูุฃูุนุงู ุงูุฅุฑุงุฏูุฉ</strong> ู<strong>ุงูุฃูุนุงู ุงูุงูุนูุงุณูุฉ (Reflex actions)</strong>.</li>"""
        
        # ุงุณุชุจุฏุงู ุงูุฃูุฏุงู
        content = re.sub(
            r'<ul>\s*<li>.*?</li>\s*</ul>',
            f'<ul>\n{new_objectives}\n      </ul>',
            content,
            flags=re.DOTALL
        )
        
        # ุงูุฃุณุฆูุฉ ุงูุฌุฏูุฏุฉ ููุณูุฉ ุฅูู 4 ูุฌููุนุงุช
        new_questions = """      {q:"ูุง ููุง ุงููุณูุงู ุงูุฑุฆูุณูุงู ููุฌูุงุฒ ุงูุนุตุจู ูู ุงูุฅูุณุงูุ", c:["ุงูุณูุจุซุงูู ูุงููุงุณูุจุซุงูู","ุงููุฑูุฒู ูุงูุทุฑูู","ุงูุญุฑูู ูุงูุญุณู","ุงูุฅุฑุงุฏู ูุงููุงุฅุฑุงุฏู"], a:1},
      {q:"ุฃู ูู ุงูุชุงูู ูุดูู ุงูุฌูุงุฒ ุงูุนุตุจู ุงููุฑูุฒูุ", c:["ุงูุฃุนุตุงุจ ุงูุญุณูุฉ ูุงูุญุฑููุฉ","ุงูุฏูุงุบ ูุงูุญุจู ุงูุดููู","ุงูุนูุฏ ุงูุนุตุจูุฉ","ุงููุดุงุจู ุงูุนุตุจูุฉ"], a:1},
      {q:"ูุง ูู ุงููุญุฏุฉ ุงูุฃุณุงุณูุฉ ููุฌูุงุฒ ุงูุนุตุจูุ", c:["ุงูุฎููุฉ ุงูุนุถููุฉ","ุงูุนุตุจูู (ุงูุฎููุฉ ุงูุนุตุจูุฉ)","ุฎููุฉ ุงูุฏู","ุงูุฎููุฉ ุงูุฏูููุฉ"], a:1},
      {q:"ุงูุณูุงู ุงูุนุตุจู ูู ุนุจุงุฑุฉ ุนู:", c:["ูุงุฏุฉ ููููุงุฆูุฉ","ุฅุดุงุฑุฉ ููุฑุจุงุฆูุฉ","ุฎููุฉ ุนุตุจูุฉ","ูุฑููู"], a:1},
      {q:"ุชุชููู ุงูุฎููุฉ ุงูุนุตุจูุฉ ูู:", c:["ุฌุณู ุงูุฎููุฉ ูุงููุญุงูุฑ ูุงูุชุดุนุจุงุช","ููุงุฉ ููุท","ุบุดุงุก ุฎููู ููุท","ููุชููููุฏุฑูุง ููุท"], a:0},
      {q:"ูุธููุฉ ุงููุดุงุจู ุงูุนุตุจูุฉ (Synapses) ูู:", c:["ููู ุงูุฑุณุงุฆู ุจูู ุงูุฎูุงูุง ุงูุนุตุจูุฉ","ุฅูุชุงุฌ ุงูุทุงูุฉ","ุญูุธ ุงููุนูููุงุช ููุท","ุชูููู ุงููุฑูููุงุช"], a:0},
      {q:"ุงูุฃูุนุงู ุงูุงูุนูุงุณูุฉ ุชุชููุฒ ุจุฃููุง:", c:["ุงุณุชุฌุงุจุงุช ุณุฑูุนุฉ ูุชููุงุฆูุฉ","ุงุณุชุฌุงุจุงุช ุจุทูุฆุฉ ููุฏุฑูุณุฉ","ูุง ุชุญุชุงุฌ ููุฌูุงุฒ ุงูุนุตุจู","ุชุญุฏุซ ูู ุงูุฏูุงุบ ููุท"], a:0},
      {q:"ูุซุงู ุนูู ุงููุนู ุงูุงูุนูุงุณู:", c:["ุงููุชุงุจุฉ","ุณุญุจ ุงููุฏ ูู ูุตุฏุฑ ุญุงุฑ","ุงูุชูููุฑ ูู ุงููุณุงุฆู","ูุฑุงุกุฉ ุงููุชุงุจ"], a:1},
      {q:"ุงูุญุจู ุงูุดููู ูููู ุจูุธููุฉ:", c:["ุงููุถู","ููู ุงูุฑุณุงุฆู ุจูู ุงูุฏูุงุบ ูุฃุฌุฒุงุก ุงูุฌุณู","ุงูุชููุณ ููุท","ุฅูุชุงุฌ ุงููุฑูููุงุช"], a:1},
      {q:"ุฃู ูู ุงูุฃุฌุฒุงุก ุงูุชุงููุฉ ูุณุคูู ุนู ุงูุชูุงุฒูุ", c:["ุงููุฎ","ุงููุฎูุฎ","ุงููุฎุงุน ุงููุณุชุทูู","ุงูุญุจู ุงูุดููู"], a:1},
      {q:"ุงููุฎุงุน ุงููุณุชุทูู ูุชุญูู ูู:", c:["ุงูุฐุงูุฑุฉ ูุงูุชูููุฑ","ุงูุชููุณ ูุถุฑุจุงุช ุงูููุจ","ุญุฑูุฉ ุงูุฃุทุฑุงู ุงูุฅุฑุงุฏูุฉ","ุงูุฑุคูุฉ ูุงูุณูุน"], a:1},
      {q:"ุฃุทูู ุฌุฒุก ูู ุงูุฎููุฉ ุงูุนุตุจูุฉ ูู:", c:["ุฌุณู ุงูุฎููุฉ","ุงููุญูุฑ ุงูุนุตุจู","ุงูุชุดุนุจุงุช","ุงูููุงุฉ"], a:1},
      {q:"ูุญุงุท ุงูุญุจู ุงูุดููู ูุงูุฏูุงุบ ุจู:", c:["ุงูุนุถูุงุช","ุงูุณุญุงูุง","ุงูุฌูุฏ","ุงูุนุธุงู ููุท"], a:1},
      {q:"ุงูุฌูุงุฒ ุงูุนุตุจู ุงูุทุฑูู ูุชููู ูู:", c:["ุงูุฏูุงุบ ูุงูุญุจู ุงูุดููู","ุฌููุน ุงูุฃุนุตุงุจ ุฎุงุฑุฌ ุงูุฏูุงุบ ูุงูุญุจู ุงูุดููู","ุงููุฎ ููุท","ุงูููุจ ูุงูุฑุฆุชูู"], a:1},
      {q:"ุณุฑุนุฉ ุงูุณูุงู ุงูุนุตุจู ูู ุงูุฅูุณุงู:", c:["ุจุทูุฆุฉ ุฌุฏุงู","ูุชูุณุทุฉ","ุณุฑูุนุฉ ุฌุฏุงู (ุญุชู 120 ู/ุซ)","ุชุนุชูุฏ ุนูู ุงูุทูุณ"], a:2},
      {q:"ุงูุชุดุนุจุงุช ุงูุนุตุจูุฉ (Dendrites) ูุธููุชูุง:", c:["ุฅุฑุณุงู ุงูุฅุดุงุฑุงุช","ุงุณุชูุจุงู ุงูุฅุดุงุฑุงุช","ุฅูุชุงุฌ ุงูุทุงูุฉ","ุญูุงูุฉ ุงูุฎููุฉ"], a:1},
      {q:"ุงููุงูููู (Myelin) ูุณุงุนุฏ ุนูู:", c:["ุฅุจุทุงุก ุงูุณูุงู ุงูุนุตุจู","ุชุณุฑูุน ุงูุณูุงู ุงูุนุตุจู","ููุน ุงูุณูุงู ุงูุนุตุจู","ุชุบููุฑ ุงุชุฌุงู ุงูุณูุงู"], a:1},
      {q:"ุนูุฏ ูุทุน ุงูุนุตุจุ ุงููุชูุฌุฉ ุชููู:", c:["ุฒูุงุฏุฉ ููุฉ ุงูุฅุดุงุฑุงุช","ููุฏุงู ุงูุฅุญุณุงุณ ุฃู ุงูุญุฑูุฉ","ุชุญุณู ุงููุธุงุฆู","ูุง ูุญุฏุซ ุดูุก"], a:1},
      {q:"ุงููุงููุงุช ุงูุนุตุจูุฉ (Neurotransmitters) ุชูุฌุฏ ูู:", c:["ุฌุณู ุงูุฎููุฉ","ุงููุดุงุจู ุงูุนุตุจูุฉ","ุงูููุงุฉ","ุงูููุชููููุฏุฑูุง"], a:1},
      {q:"ุงูุฌูุงุฒ ุงูุนุตุจู ุงููุงุฅุฑุงุฏู ูุชุญูู ูู:", c:["ุญุฑูุฉ ุงูุฃุทุฑุงู","ุงููุชุงุจุฉ ูุงููุฑุงุกุฉ","ุถุฑุจุงุช ุงูููุจ ูุงููุถู","ุงูุฑุคูุฉ ูุงูุณูุน"], a:2}"""
        
        # ุงุณุชุจุฏุงู ุจูู ุงูุฃุณุฆูุฉ
        content = re.sub(
            r'const bank = \[\s*\{q:.*?\}\s*\];',
            f'const bank = [\n{new_questions}\n    ];',
            content,
            flags=re.DOTALL
        )
        
        # ุญูุธ ุงูููู ุงููุญุฏุซ
        with open(file_path, 'w', encoding='utf-8') as file:
            file.write(content)
        
        print("๐ ุชู ุชุญุฏูุซ ุงูุฏุฑุณ 6-2 ุจูุฌุงุญ!")
        print("๐ ุฅุญุตุงุฆูุงุช ุงูุชุญุฏูุซ:")
        print("   โ ุงูุนููุงู: ุงูุชูุงุฑูู ุงูุฑูุงุถูุฉ ููุนุฏู ุงูุชููุณ")
        print("   โ ุงูุฃูุฏุงู: 6 ุฃูุฏุงู ุฌุฏูุฏุฉ")
        print("   โ ุงูุฃุณุฆูุฉ: 20 ุณุคุงู ููุธู ูู 4 ูุฌููุนุงุช:")
        print("      - ุงููุฌููุนุฉ ุงูุฃููู: ุงูููุงููู ุงูุฃุณุงุณูุฉ (5 ุฃุณุฆูุฉ)")
        print("      - ุงููุฌููุนุฉ ุงูุซุงููุฉ: ุงูุชุทุจููุงุช (5 ุฃุณุฆูุฉ)")
        print("      - ุงููุฌููุนุฉ ุงูุซุงูุซุฉ: ุงูุชุฌุงุฑุจ ูุงูููุงุณุงุช (5 ุฃุณุฆูุฉ)")
        print("      - ุงููุฌููุนุฉ ุงูุฑุงุจุนุฉ: ุงูุชูููู (5 ุฃุณุฆูุฉ)")
        
        return True
        
    except Exception as e:
        print(f"โ ุฎุทุฃ ูู ุชุญุฏูุซ ุงูููู: {e}")
        return False

if __name__ == "__main__":
    update_lesson_6_2()